%%{init: {'theme': 'dark'}}%%
flowchart LR
    subgraph Data["Full Dataset"]
        D[All Samples]
    end
    
    subgraph Split["Train/Test Split"]
        TR[Training Set 80%]
        TE[Test Set 20%]
    end
    
    subgraph CV["Cross-Validation"]
        F1[Fold 1]
        F2[Fold 2]
        F3[Fold 3]
        F4[Fold 4]
        F5[Fold 5]
    end
    
    subgraph Train["Model Training"]
        M[Fit Model]
    end
    
    subgraph Eval["Evaluation"]
        E[Calculate Metrics]
    end
    
    D --> TR
    D --> TE
    TR --> F1 & F2 & F3 & F4 & F5
    F1 & F2 & F3 & F4 & F5 --> M
    M --> E
    TE -.->|Final Evaluation| E
    
    style Data fill:#1a3a5c
    style Split fill:#3a1a5c
    style CV fill:#1a5c3a
    style Train fill:#5c3a1a
    style Eval fill:#5c1a3a
