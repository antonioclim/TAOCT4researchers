<!DOCTYPE html>
<!--
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
COMPUTATIONAL THINKING FOR RESEARCHERS
Week 7: Interactive Project Scaffolder Demo
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

This interactive demonstration allows users to configure and visualise
a reproducible research project structure in real-time.

¬© 2025 Antonio Clim. All rights reserved.
See README.md for full licence terms.
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
-->
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 7: Interactive Project Scaffolder | TAOCT</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #d29922;
            --accent-red: #f85149;
            --accent-cyan: #39c5cf;
            --border-colour: #30363d;
            --shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-colour);
        }

        header h1 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        header p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 2rem;
        }

        /* Configuration Panel */
        .config-panel {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border-colour);
            height: fit-content;
            position: sticky;
            top: 2rem;
        }

        .config-panel h2 {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .config-panel h2::before {
            content: '‚öôÔ∏è';
        }

        .config-section {
            margin-bottom: 1.5rem;
        }

        .config-section h3 {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.75rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            font-size: 0.9rem;
            margin-bottom: 0.4rem;
            color: var(--text-primary);
        }

        .form-group input[type="text"] {
            width: 100%;
            padding: 0.6rem 0.8rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-colour);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .form-group input[type="text"]:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.2);
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.5rem 0.75rem;
            background: var(--bg-tertiary);
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
        }

        .checkbox-item:hover {
            background: var(--bg-primary);
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--accent-green);
            cursor: pointer;
        }

        .checkbox-item span {
            font-size: 0.9rem;
        }

        .checkbox-item .badge {
            margin-left: auto;
            font-size: 0.7rem;
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            background: var(--accent-purple);
            opacity: 0.8;
        }

        .generate-btn {
            width: 100%;
            padding: 0.9rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        /* Output Panel */
        .output-panel {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .output-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--border-colour);
            overflow: hidden;
        }

        .output-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.25rem;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-colour);
        }

        .output-header h3 {
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .copy-btn {
            padding: 0.4rem 0.8rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-colour);
            border-radius: 6px;
            color: var(--text-secondary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .copy-btn:hover {
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .copy-btn.copied {
            background: var(--accent-green);
            color: white;
            border-color: var(--accent-green);
        }

        .output-content {
            padding: 1.25rem;
        }

        /* Tree View */
        .tree-view {
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.85rem;
            line-height: 1.8;
        }

        .tree-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.15rem 0;
            opacity: 0;
            transform: translateX(-10px);
            animation: fadeSlideIn 0.3s forwards;
        }

        @keyframes fadeSlideIn {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .tree-item .icon {
            width: 18px;
            text-align: center;
        }

        .tree-item.folder .icon { color: var(--accent-orange); }
        .tree-item.python .icon { color: var(--accent-blue); }
        .tree-item.markdown .icon { color: var(--accent-cyan); }
        .tree-item.yaml .icon { color: var(--accent-green); }
        .tree-item.toml .icon { color: var(--accent-purple); }
        .tree-item.git .icon { color: var(--accent-red); }

        .tree-item .name {
            color: var(--text-primary);
        }

        .tree-item .description {
            color: var(--text-secondary);
            font-size: 0.75rem;
            margin-left: 0.5rem;
        }

        /* Code Preview */
        .code-preview {
            background: var(--bg-primary);
            border-radius: 8px;
            overflow: hidden;
        }

        .code-tabs {
            display: flex;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-colour);
            overflow-x: auto;
        }

        .code-tab {
            padding: 0.6rem 1rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
            border-bottom: 2px solid transparent;
        }

        .code-tab:hover {
            color: var(--text-primary);
            background: var(--bg-secondary);
        }

        .code-tab.active {
            color: var(--accent-blue);
            border-bottom-color: var(--accent-blue);
            background: var(--bg-secondary);
        }

        .code-content {
            padding: 1rem;
            max-height: 400px;
            overflow: auto;
        }

        .code-content pre {
            margin: 0;
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.8rem;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .code-content .keyword { color: var(--accent-purple); }
        .code-content .string { color: var(--accent-green); }
        .code-content .comment { color: var(--text-secondary); font-style: italic; }
        .code-content .function { color: var(--accent-blue); }
        .code-content .decorator { color: var(--accent-orange); }

        /* Statistics */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .stat-card {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }

        .stat-card .value {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-card .label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        /* Reproducibility Checklist */
        .checklist {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.6rem 0.8rem;
            background: var(--bg-tertiary);
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .checklist-item.enabled .check {
            color: var(--accent-green);
        }

        .checklist-item.disabled .check {
            color: var(--text-secondary);
        }

        .checklist-item.disabled {
            opacity: 0.5;
        }

        /* Footer */
        footer {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-colour);
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        footer a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .config-panel {
                position: static;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .checklist {
                grid-template-columns: 1fr;
            }
        }

        /* Animation for tree building */
        .tree-item:nth-child(1) { animation-delay: 0.05s; }
        .tree-item:nth-child(2) { animation-delay: 0.1s; }
        .tree-item:nth-child(3) { animation-delay: 0.15s; }
        .tree-item:nth-child(4) { animation-delay: 0.2s; }
        .tree-item:nth-child(5) { animation-delay: 0.25s; }
        .tree-item:nth-child(6) { animation-delay: 0.3s; }
        .tree-item:nth-child(7) { animation-delay: 0.35s; }
        .tree-item:nth-child(8) { animation-delay: 0.4s; }
        .tree-item:nth-child(9) { animation-delay: 0.45s; }
        .tree-item:nth-child(10) { animation-delay: 0.5s; }
        .tree-item:nth-child(11) { animation-delay: 0.55s; }
        .tree-item:nth-child(12) { animation-delay: 0.6s; }
        .tree-item:nth-child(13) { animation-delay: 0.65s; }
        .tree-item:nth-child(14) { animation-delay: 0.7s; }
        .tree-item:nth-child(15) { animation-delay: 0.75s; }
        .tree-item:nth-child(16) { animation-delay: 0.8s; }
        .tree-item:nth-child(17) { animation-delay: 0.85s; }
        .tree-item:nth-child(18) { animation-delay: 0.9s; }
        .tree-item:nth-child(19) { animation-delay: 0.95s; }
        .tree-item:nth-child(20) { animation-delay: 1.0s; }
        .tree-item:nth-child(n+21) { animation-delay: 1.05s; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèóÔ∏è Interactive Project Scaffolder</h1>
            <p>Week 7: Reproducibility and Capstone ‚Äî Configure and visualise your reproducible research project</p>
        </header>

        <div class="main-content">
            <!-- Configuration Panel -->
            <aside class="config-panel">
                <h2>Project Configuration</h2>

                <div class="config-section">
                    <h3>Basic Information</h3>
                    <div class="form-group">
                        <label for="projectName">Project Name</label>
                        <input type="text" id="projectName" value="my_research_project" placeholder="e.g., climate_analysis">
                    </div>
                    <div class="form-group">
                        <label for="authorName">Author Name</label>
                        <input type="text" id="authorName" value="Dr Jane Smith" placeholder="Your name">
                    </div>
                    <div class="form-group">
                        <label for="pythonVersion">Python Version</label>
                        <input type="text" id="pythonVersion" value="3.12" placeholder="e.g., 3.12">
                    </div>
                </div>

                <div class="config-section">
                    <h3>Project Features</h3>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="optTests" checked>
                            <span>Testing Framework</span>
                            <span class="badge">pytest</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="optCICD" checked>
                            <span>CI/CD Pipeline</span>
                            <span class="badge">GitHub</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="optDocker" checked>
                            <span>Docker Support</span>
                            <span class="badge">container</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="optDocs" checked>
                            <span>Documentation</span>
                            <span class="badge">MkDocs</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="optNotebooks">
                            <span>Jupyter Notebooks</span>
                            <span class="badge">analysis</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="optData" checked>
                            <span>Data Management</span>
                            <span class="badge">DVC</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="optPrecommit" checked>
                            <span>Pre-commit Hooks</span>
                            <span class="badge">quality</span>
                        </label>
                    </div>
                </div>

                <div class="config-section">
                    <h3>Dependencies</h3>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="depNumpy" checked>
                            <span>NumPy</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="depPandas" checked>
                            <span>Pandas</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="depMatplotlib" checked>
                            <span>Matplotlib</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="depScipy">
                            <span>SciPy</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="depScikit">
                            <span>Scikit-learn</span>
                        </label>
                    </div>
                </div>

                <button class="generate-btn" onclick="generateProject()">
                    <span>üöÄ</span> Generate Project
                </button>
            </aside>

            <!-- Output Panel -->
            <main class="output-panel">
                <!-- Statistics -->
                <section class="output-section">
                    <div class="output-header">
                        <h3>üìä Project Statistics</h3>
                    </div>
                    <div class="output-content">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="value" id="statFiles">0</div>
                                <div class="label">Files</div>
                            </div>
                            <div class="stat-card">
                                <div class="value" id="statDirs">0</div>
                                <div class="label">Directories</div>
                            </div>
                            <div class="stat-card">
                                <div class="value" id="statFeatures">0</div>
                                <div class="label">Features</div>
                            </div>
                            <div class="stat-card">
                                <div class="value" id="statDeps">0</div>
                                <div class="label">Dependencies</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Tree View -->
                <section class="output-section">
                    <div class="output-header">
                        <h3>üìÅ Project Structure</h3>
                        <button class="copy-btn" onclick="copyTree()">Copy</button>
                    </div>
                    <div class="output-content">
                        <div class="tree-view" id="treeView">
                            <div class="tree-item folder">
                                <span class="icon">üìÇ</span>
                                <span class="name">Configure and click "Generate Project" to see structure</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Code Preview -->
                <section class="output-section">
                    <div class="output-header">
                        <h3>üìù Generated Files Preview</h3>
                        <button class="copy-btn" onclick="copyCode()">Copy Code</button>
                    </div>
                    <div class="code-preview">
                        <div class="code-tabs" id="codeTabs">
                            <button class="code-tab active" data-file="pyproject">pyproject.toml</button>
                            <button class="code-tab" data-file="readme">README.md</button>
                            <button class="code-tab" data-file="conftest">conftest.py</button>
                            <button class="code-tab" data-file="workflow">ci.yml</button>
                            <button class="code-tab" data-file="dockerfile">Dockerfile</button>
                        </div>
                        <div class="code-content">
                            <pre id="codePreview">Click "Generate Project" to preview generated files...</pre>
                        </div>
                    </div>
                </section>

                <!-- Reproducibility Checklist -->
                <section class="output-section">
                    <div class="output-header">
                        <h3>‚úÖ Reproducibility Checklist</h3>
                    </div>
                    <div class="output-content">
                        <div class="checklist" id="checklist">
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Version-pinned dependencies</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Automated testing</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>CI/CD pipeline</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Container environment</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Documentation</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Data versioning</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Code quality checks</span>
                            </div>
                            <div class="checklist-item disabled">
                                <span class="check">‚óã</span>
                                <span>Random seed management</span>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <footer>
            <p>Week 7: Reproducibility and Capstone | The Art of Computational Thinking for Researchers</p>
            <p>¬© 2025 Antonio Clim. All rights reserved. | <a href="../../../README.md">Course Materials</a></p>
        </footer>
    </div>

    <script>
        // Configuration state
        const config = {
            projectName: 'my_research_project',
            authorName: 'Dr Jane Smith',
            pythonVersion: '3.12',
            features: {
                tests: true,
                cicd: true,
                docker: true,
                docs: true,
                notebooks: false,
                data: true,
                precommit: true
            },
            dependencies: {
                numpy: true,
                pandas: true,
                matplotlib: true,
                scipy: false,
                scikit: false
            }
        };

        // File templates
        const templates = {
            pyproject: (cfg) => `<span class="comment"># pyproject.toml - Project configuration</span>
<span class="keyword">[project]</span>
<span class="function">name</span> = <span class="string">"${cfg.projectName}"</span>
<span class="function">version</span> = <span class="string">"0.1.0"</span>
<span class="function">description</span> = <span class="string">"A reproducible research project"</span>
<span class="function">authors</span> = [
    {name = <span class="string">"${cfg.authorName}"</span>}
]
<span class="function">requires-python</span> = <span class="string">">=${cfg.pythonVersion}"</span>
<span class="function">dependencies</span> = [
${Object.entries(cfg.dependencies)
    .filter(([_, v]) => v)
    .map(([k, _]) => `    <span class="string">"${k}>=1.0"</span>,`)
    .join('\n')}
]

<span class="keyword">[project.optional-dependencies]</span>
<span class="function">dev</span> = [
    <span class="string">"pytest>=7.0"</span>,
    <span class="string">"pytest-cov>=4.0"</span>,
    <span class="string">"ruff>=0.1"</span>,
    <span class="string">"mypy>=1.0"</span>,
]
${cfg.features.docs ? `<span class="function">docs</span> = [
    <span class="string">"mkdocs>=1.5"</span>,
    <span class="string">"mkdocs-material>=9.0"</span>,
]` : ''}

<span class="keyword">[tool.ruff]</span>
<span class="function">line-length</span> = <span class="string">88</span>
<span class="function">target-version</span> = <span class="string">"py312"</span>

<span class="keyword">[tool.pytest.ini_options]</span>
<span class="function">testpaths</span> = [<span class="string">"tests"</span>]
<span class="function">addopts</span> = <span class="string">"--cov=${cfg.projectName} --cov-report=term-missing"</span>`,

            readme: (cfg) => `<span class="comment"># ${cfg.projectName}</span>

<span class="string">A reproducible research project by ${cfg.authorName}.</span>

## üöÄ Quick Start

<span class="comment"># Clone and setup</span>
git clone https://github.com/user/${cfg.projectName}.git
cd ${cfg.projectName}
${cfg.features.docker ? `
<span class="comment"># Using Docker (recommended)</span>
docker compose up -d` : `
<span class="comment"># Create virtual environment</span>
python -m venv .venv
source .venv/bin/activate  <span class="comment"># Linux/macOS</span>
pip install -e ".[dev]"`}

## üìä Project Structure

\`\`\`
${cfg.projectName}/
‚îú‚îÄ‚îÄ src/${cfg.projectName}/    <span class="comment"># Source code</span>
‚îú‚îÄ‚îÄ tests/                      <span class="comment"># Test suite</span>
‚îú‚îÄ‚îÄ data/                       <span class="comment"># Data files</span>
${cfg.features.docs ? '‚îú‚îÄ‚îÄ docs/                       # Documentation\n' : ''}${cfg.features.notebooks ? '‚îú‚îÄ‚îÄ notebooks/                  # Jupyter notebooks\n' : ''}\`\`\`

## üß™ Running Tests

\`\`\`bash
pytest --cov
\`\`\`

## üìú Licence

¬© 2025 ${cfg.authorName}. All rights reserved.`,

            conftest: (cfg) => `<span class="comment">#!/usr/bin/env python3</span>
<span class="string">"""
Pytest configuration and fixtures for ${cfg.projectName}.

This module provides shared fixtures for reproducible testing.
"""</span>

<span class="keyword">import</span> random
<span class="keyword">from</span> typing <span class="keyword">import</span> Generator

<span class="keyword">import</span> pytest
${cfg.dependencies.numpy ? '<span class="keyword">import</span> numpy <span class="keyword">as</span> np' : ''}

<span class="comment"># Fixed seed for reproducibility</span>
RANDOM_SEED = <span class="string">42</span>


<span class="decorator">@pytest.fixture(autouse=True)</span>
<span class="keyword">def</span> <span class="function">set_random_seeds</span>() -> Generator[None, None, None]:
    <span class="string">"""Set random seeds before each test for reproducibility."""</span>
    random.seed(RANDOM_SEED)
${cfg.dependencies.numpy ? '    np.random.seed(RANDOM_SEED)' : ''}
    <span class="keyword">yield</span>


<span class="decorator">@pytest.fixture</span>
<span class="keyword">def</span> <span class="function">sample_data</span>() -> dict:
    <span class="string">"""Provide sample test data."""</span>
    <span class="keyword">return</span> {
        <span class="string">"values"</span>: [<span class="string">1, 2, 3, 4, 5</span>],
        <span class="string">"labels"</span>: [<span class="string">"a", "b", "c", "d", "e"</span>],
    }


<span class="decorator">@pytest.fixture</span>
<span class="keyword">def</span> <span class="function">temp_output_dir</span>(tmp_path):
    <span class="string">"""Create temporary output directory."""</span>
    output = tmp_path / <span class="string">"output"</span>
    output.mkdir()
    <span class="keyword">return</span> output`,

            workflow: (cfg) => `<span class="comment"># .github/workflows/ci.yml</span>
<span class="keyword">name:</span> <span class="string">CI Pipeline</span>

<span class="keyword">on:</span>
  <span class="function">push:</span>
    <span class="function">branches:</span> [main, develop]
  <span class="function">pull_request:</span>
    <span class="function">branches:</span> [main]

<span class="keyword">jobs:</span>
  <span class="function">test:</span>
    <span class="keyword">runs-on:</span> <span class="string">ubuntu-latest</span>
    <span class="keyword">strategy:</span>
      <span class="function">matrix:</span>
        <span class="function">python-version:</span> [<span class="string">"${cfg.pythonVersion}"</span>]

    <span class="keyword">steps:</span>
      - <span class="function">uses:</span> <span class="string">actions/checkout@v4</span>

      - <span class="function">name:</span> <span class="string">Set up Python</span>
        <span class="function">uses:</span> <span class="string">actions/setup-python@v5</span>
        <span class="function">with:</span>
          <span class="function">python-version:</span> <span class="string">\${{ matrix.python-version }}</span>

      - <span class="function">name:</span> <span class="string">Install dependencies</span>
        <span class="function">run:</span> |
          python -m pip install --upgrade pip
          pip install -e ".[dev]"

      - <span class="function">name:</span> <span class="string">Lint with ruff</span>
        <span class="function">run:</span> <span class="string">ruff check .</span>

      - <span class="function">name:</span> <span class="string">Type check with mypy</span>
        <span class="function">run:</span> <span class="string">mypy src/</span>

      - <span class="function">name:</span> <span class="string">Run tests</span>
        <span class="function">run:</span> <span class="string">pytest --cov --cov-report=xml</span>

      - <span class="function">name:</span> <span class="string">Upload coverage</span>
        <span class="function">uses:</span> <span class="string">codecov/codecov-action@v3</span>`,

            dockerfile: (cfg) => `<span class="comment"># Dockerfile - Reproducible environment</span>
<span class="keyword">FROM</span> python:<span class="string">${cfg.pythonVersion}-slim</span>

<span class="comment"># Set environment variables</span>
<span class="keyword">ENV</span> PYTHONUNBUFFERED=<span class="string">1</span>
<span class="keyword">ENV</span> PYTHONDONTWRITEBYTECODE=<span class="string">1</span>
<span class="keyword">ENV</span> PIP_NO_CACHE_DIR=<span class="string">1</span>

<span class="comment"># Set working directory</span>
<span class="keyword">WORKDIR</span> <span class="string">/app</span>

<span class="comment"># Install system dependencies</span>
<span class="keyword">RUN</span> apt-get update && apt-get install -y --no-install-recommends \\
    git \\
    && rm -rf /var/lib/apt/lists/*

<span class="comment"># Copy project files</span>
<span class="keyword">COPY</span> pyproject.toml README.md ./
<span class="keyword">COPY</span> src/ ./src/

<span class="comment"># Install Python dependencies</span>
<span class="keyword">RUN</span> pip install --upgrade pip && \\
    pip install -e ".[dev]"

<span class="comment"># Copy remaining files</span>
<span class="keyword">COPY</span> . .

<span class="comment"># Default command</span>
<span class="keyword">CMD</span> [<span class="string">"pytest"</span>, <span class="string">"--cov"</span>]`
        };

        // Generate tree structure
        function generateTree(cfg) {
            const items = [];
            const addItem = (indent, icon, name, type, desc = '') => {
                items.push({ indent, icon, name, type, desc });
            };

            // Root
            addItem(0, 'üìÇ', cfg.projectName + '/', 'folder');
            
            // Core directories
            addItem(1, 'üìÇ', 'src/', 'folder');
            addItem(2, 'üìÇ', cfg.projectName + '/', 'folder');
            addItem(3, 'üêç', '__init__.py', 'python', 'Package init');
            addItem(3, 'üêç', 'core.py', 'python', 'Core functionality');
            addItem(3, 'üêç', 'utils.py', 'python', 'Utility functions');
            
            // Tests
            if (cfg.features.tests) {
                addItem(1, 'üìÇ', 'tests/', 'folder');
                addItem(2, 'üêç', '__init__.py', 'python');
                addItem(2, 'üêç', 'conftest.py', 'python', 'Fixtures');
                addItem(2, 'üêç', 'test_core.py', 'python', 'Core tests');
            }
            
            // Data
            if (cfg.features.data) {
                addItem(1, 'üìÇ', 'data/', 'folder');
                addItem(2, 'üìÇ', 'raw/', 'folder', 'Original data');
                addItem(2, 'üìÇ', 'processed/', 'folder', 'Cleaned data');
                addItem(2, 'üìÑ', '.gitkeep', 'git');
            }
            
            // Docs
            if (cfg.features.docs) {
                addItem(1, 'üìÇ', 'docs/', 'folder');
                addItem(2, 'üìù', 'index.md', 'markdown', 'Documentation home');
                addItem(2, 'üìù', 'api.md', 'markdown', 'API reference');
            }
            
            // Notebooks
            if (cfg.features.notebooks) {
                addItem(1, 'üìÇ', 'notebooks/', 'folder');
                addItem(2, 'üìì', '01_exploration.ipynb', 'python', 'Data exploration');
                addItem(2, 'üìì', '02_analysis.ipynb', 'python', 'Main analysis');
            }
            
            // CI/CD
            if (cfg.features.cicd) {
                addItem(1, 'üìÇ', '.github/', 'folder');
                addItem(2, 'üìÇ', 'workflows/', 'folder');
                addItem(3, '‚öôÔ∏è', 'ci.yml', 'yaml', 'CI pipeline');
            }
            
            // Root files
            addItem(1, 'üìú', 'pyproject.toml', 'toml', 'Project config');
            addItem(1, 'üìù', 'README.md', 'markdown', 'Documentation');
            addItem(1, 'üìÑ', '.gitignore', 'git', 'Git ignores');
            
            if (cfg.features.docker) {
                addItem(1, 'üê≥', 'Dockerfile', 'yaml', 'Container');
                addItem(1, 'üê≥', 'docker-compose.yml', 'yaml', 'Compose');
            }
            
            if (cfg.features.precommit) {
                addItem(1, '‚öôÔ∏è', '.pre-commit-config.yaml', 'yaml', 'Hooks');
            }
            
            if (cfg.features.docs) {
                addItem(1, '‚öôÔ∏è', 'mkdocs.yml', 'yaml', 'Docs config');
            }

            return items;
        }

        // Render tree
        function renderTree(items) {
            const container = document.getElementById('treeView');
            container.innerHTML = items.map(item => {
                const indentPx = item.indent * 20;
                return `
                    <div class="tree-item ${item.type}" style="padding-left: ${indentPx}px">
                        <span class="icon">${item.icon}</span>
                        <span class="name">${item.name}</span>
                        ${item.desc ? `<span class="description">// ${item.desc}</span>` : ''}
                    </div>
                `;
            }).join('');
        }

        // Update statistics
        function updateStats(cfg) {
            const tree = generateTree(cfg);
            const files = tree.filter(i => i.type !== 'folder').length;
            const dirs = tree.filter(i => i.type === 'folder').length;
            const features = Object.values(cfg.features).filter(v => v).length;
            const deps = Object.values(cfg.dependencies).filter(v => v).length;

            document.getElementById('statFiles').textContent = files;
            document.getElementById('statDirs').textContent = dirs;
            document.getElementById('statFeatures').textContent = features;
            document.getElementById('statDeps').textContent = deps;
        }

        // Update checklist
        function updateChecklist(cfg) {
            const checks = [
                { id: 0, enabled: true, label: 'Version-pinned dependencies' },
                { id: 1, enabled: cfg.features.tests, label: 'Automated testing' },
                { id: 2, enabled: cfg.features.cicd, label: 'CI/CD pipeline' },
                { id: 3, enabled: cfg.features.docker, label: 'Container environment' },
                { id: 4, enabled: cfg.features.docs, label: 'Documentation' },
                { id: 5, enabled: cfg.features.data, label: 'Data versioning' },
                { id: 6, enabled: cfg.features.precommit, label: 'Code quality checks' },
                { id: 7, enabled: true, label: 'Random seed management' }
            ];

            const container = document.getElementById('checklist');
            container.innerHTML = checks.map(c => `
                <div class="checklist-item ${c.enabled ? 'enabled' : 'disabled'}">
                    <span class="check">${c.enabled ? '‚úì' : '‚óã'}</span>
                    <span>${c.label}</span>
                </div>
            `).join('');
        }

        // Tab switching
        document.getElementById('codeTabs').addEventListener('click', (e) => {
            if (e.target.classList.contains('code-tab')) {
                document.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
                e.target.classList.add('active');
                updateCodePreview(e.target.dataset.file);
            }
        });

        let currentCode = '';

        function updateCodePreview(file) {
            const preview = document.getElementById('codePreview');
            currentCode = templates[file](config);
            preview.innerHTML = currentCode;
        }

        // Copy functionality
        function copyTree() {
            const tree = generateTree(config);
            const text = tree.map(i => '  '.repeat(i.indent) + i.name).join('\n');
            copyToClipboard(text, event.target);
        }

        function copyCode() {
            const text = currentCode.replace(/<[^>]*>/g, '');
            copyToClipboard(text, event.target);
        }

        function copyToClipboard(text, btn) {
            navigator.clipboard.writeText(text).then(() => {
                btn.classList.add('copied');
                btn.textContent = 'Copied!';
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.textContent = 'Copy';
                }, 2000);
            });
        }

        // Main generate function
        function generateProject() {
            // Read configuration
            config.projectName = document.getElementById('projectName').value || 'my_project';
            config.authorName = document.getElementById('authorName').value || 'Author';
            config.pythonVersion = document.getElementById('pythonVersion').value || '3.12';
            
            config.features.tests = document.getElementById('optTests').checked;
            config.features.cicd = document.getElementById('optCICD').checked;
            config.features.docker = document.getElementById('optDocker').checked;
            config.features.docs = document.getElementById('optDocs').checked;
            config.features.notebooks = document.getElementById('optNotebooks').checked;
            config.features.data = document.getElementById('optData').checked;
            config.features.precommit = document.getElementById('optPrecommit').checked;
            
            config.dependencies.numpy = document.getElementById('depNumpy').checked;
            config.dependencies.pandas = document.getElementById('depPandas').checked;
            config.dependencies.matplotlib = document.getElementById('depMatplotlib').checked;
            config.dependencies.scipy = document.getElementById('depScipy').checked;
            config.dependencies.scikit = document.getElementById('depScikit').checked;

            // Update all views
            const tree = generateTree(config);
            renderTree(tree);
            updateStats(config);
            updateChecklist(config);
            updateCodePreview('pyproject');
            
            // Reset active tab
            document.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
            document.querySelector('[data-file="pyproject"]').classList.add('active');
        }

        // Initial render
        generateProject();
    </script>
</body>
</html>
