@startuml master_theorem
' ═══════════════════════════════════════════════════════════════════════════════
' COMPUTATIONAL THINKING FOR RESEARCHERS
' 03UNIT: Algorithmic Complexity
' Diagram: Master Theorem Decision Tree
' ═══════════════════════════════════════════════════════════════════════════════
' © 2025 Antonio Clim. All rights reserved.

skinparam backgroundColor #1a1a2e
skinparam defaultFontColor #ffffff
skinparam defaultFontName "Segoe UI"

skinparam activity {
    BackgroundColor #0f3460
    BorderColor #58a6ff
    FontColor #ffffff
}

skinparam diamond {
    BackgroundColor #16213e
    BorderColor #ffa657
    FontColor #ffffff
}

skinparam note {
    BackgroundColor #1a472a
    BorderColor #3fb950
    FontColor #ffffff
}

title Master Theorem for T(n) = aT(n/b) + f(n)

start

:Given recurrence\n**T(n) = aT(n/b) + f(n)**\nwhere a ≥ 1, b > 1;

note right
    **Parameters:**
    • a = number of subproblems
    • b = factor by which input shrinks
    • f(n) = cost of divide + combine
end note

:Compute critical exponent\n**c_crit = log_b(a)**;

if (Is f(n) = O(n^{c_crit - ε})\nfor some ε > 0?) then (yes)
    #3fb950:***Case 1: Leaf-Dominated***\n\n**T(n) = Θ(n^{log_b(a)})**;
    note left
        The work at the leaves
        dominates the total cost.
        
        **Example:**
        T(n) = 8T(n/2) + n²
        c_crit = log_2(8) = 3
        f(n) = n² = O(n^{3-1})
        → T(n) = Θ(n³)
    end note
else (no)
    if (Is f(n) = Θ(n^{c_crit})?) then (yes)
        #58a6ff:***Case 2: Balanced***\n\n**T(n) = Θ(n^{log_b(a)} · log n)**;
        note left
            Work is evenly distributed
            across all levels of recursion.
            
            **Example:**
            T(n) = 2T(n/2) + n
            c_crit = log_2(2) = 1
            f(n) = n = Θ(n¹)
            → T(n) = Θ(n log n)
            (Merge Sort)
        end note
    else (no)
        if (Is f(n) = Ω(n^{c_crit + ε})\nfor some ε > 0?) then (yes)
            if (Does a·f(n/b) ≤ c·f(n)\nhold for some c < 1\nand large n?) then (yes: regularity)
                #ffa657:***Case 3: Root-Dominated***\n\n**T(n) = Θ(f(n))**;
                note left
                    The work at the root
                    dominates the total cost.
                    
                    **Example:**
                    T(n) = 2T(n/2) + n²
                    c_crit = log_2(2) = 1
                    f(n) = n² = Ω(n^{1+1})
                    Regularity: 2(n/2)² = n²/2 ≤ ½n²
                    → T(n) = Θ(n²)
                end note
            else (no: regularity fails)
                #ff6b6b:**Master Theorem\nNOT APPLICABLE**;
                note left
                    Regularity condition required
                    to ensure f(n) dominates.
                    
                    Consider:
                    • Akra-Bazzi method
                    • Substitution method
                    • Recursion tree method
                end note
            endif
        else (no)
            #ff6b6b:**GAP CASE:**\n**Master Theorem\nNOT APPLICABLE**;
            note left
                f(n) falls in the gap between
                Cases 2 and 3.
                
                f(n) = ω(n^{c_crit}) but
                f(n) ≠ Ω(n^{c_crit + ε})
                
                **Example:**
                f(n) = n log n when c_crit = 1
            end note
        endif
    endif
endif

stop

legend right
    **Common Recurrences:**
    | Algorithm | Recurrence | Case | Result |
    | Binary Search | T(n) = T(n/2) + O(1) | 2 | Θ(log n) |
    | Merge Sort | T(n) = 2T(n/2) + O(n) | 2 | Θ(n log n) |
    | Strassen | T(n) = 7T(n/2) + O(n²) | 1 | Θ(n^{2.81}) |
    | Karatsuba | T(n) = 3T(n/2) + O(n) | 1 | Θ(n^{1.58}) |
endlegend

@enduml
