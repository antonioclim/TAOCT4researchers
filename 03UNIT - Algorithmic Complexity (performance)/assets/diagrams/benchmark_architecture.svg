<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 650" width="900" height="650">
  <defs>
    <style>
      .title { font: bold 22px 'Segoe UI', Arial, sans-serif; fill: #1a1a2e; }
      .subtitle { font: 14px 'Segoe UI', Arial, sans-serif; fill: #666; }
      .class-name { font: bold 14px 'Courier New', monospace; fill: #fff; }
      .method-name { font: 12px 'Courier New', monospace; fill: #333; }
      .attribute { font: 11px 'Courier New', monospace; fill: #666; }
      .label { font: 12px 'Segoe UI', Arial, sans-serif; fill: #333; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .dashed-arrow { stroke: #999; stroke-width: 1.5; fill: none; stroke-dasharray: 5,3; marker-end: url(#arrowhead-light); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowhead-light" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#999"/>
    </marker>
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="headerGreen" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#219a52;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="headerPurple" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="headerOrange" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e67e22;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d35400;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="650" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="450" y="35" class="title" text-anchor="middle">Benchmark Suite Architecture</text>
  <text x="450" y="55" class="subtitle" text-anchor="middle">Component diagram for lab_3_01_benchmark_suite.py</text>
  
  <!-- BenchmarkSuite class (main) -->
  <g transform="translate(320, 80)">
    <rect x="0" y="0" width="260" height="180" fill="#fff" stroke="#3498db" stroke-width="2" rx="5"/>
    <rect x="0" y="0" width="260" height="30" fill="url(#headerGradient)" rx="5" ry="5"/>
    <rect x="0" y="25" width="260" height="5" fill="url(#headerGradient)"/>
    <text x="130" y="21" class="class-name" text-anchor="middle">BenchmarkSuite</text>
    
    <!-- Attributes -->
    <line x1="0" y1="35" x2="260" y2="35" stroke="#ddd"/>
    <text x="10" y="52" class="attribute">- name: str</text>
    <text x="10" y="67" class="attribute">- results: list[BenchmarkResult]</text>
    <text x="10" y="82" class="attribute">- warmup_runs: int = 3</text>
    <text x="10" y="97" class="attribute">- measurement_runs: int = 10</text>
    
    <!-- Methods -->
    <line x1="0" y1="105" x2="260" y2="105" stroke="#ddd"/>
    <text x="10" y="122" class="method-name">+ add_benchmark(func, sizes)</text>
    <text x="10" y="137" class="method-name">+ run_all() → list[BenchmarkResult]</text>
    <text x="10" y="152" class="method-name">+ generate_report() → str</text>
    <text x="10" y="167" class="method-name">+ export_csv(path: Path)</text>
  </g>
  
  <!-- BenchmarkResult dataclass -->
  <g transform="translate(50, 300)">
    <rect x="0" y="0" width="220" height="150" fill="#fff" stroke="#27ae60" stroke-width="2" rx="5"/>
    <rect x="0" y="0" width="220" height="30" fill="url(#headerGreen)" rx="5" ry="5"/>
    <rect x="0" y="25" width="220" height="5" fill="url(#headerGreen)"/>
    <text x="110" y="21" class="class-name" text-anchor="middle">«dataclass» BenchmarkResult</text>
    
    <!-- Attributes -->
    <line x1="0" y1="35" x2="220" y2="35" stroke="#ddd"/>
    <text x="10" y="52" class="attribute">+ algorithm_name: str</text>
    <text x="10" y="67" class="attribute">+ input_size: int</text>
    <text x="10" y="82" class="attribute">+ mean_time: float</text>
    <text x="10" y="97" class="attribute">+ std_time: float</text>
    <text x="10" y="112" class="attribute">+ min_time: float</text>
    <text x="10" y="127" class="attribute">+ max_time: float</text>
    <text x="10" y="142" class="attribute">+ iterations: int</text>
  </g>
  
  <!-- Timer context manager -->
  <g transform="translate(320, 300)">
    <rect x="0" y="0" width="200" height="100" fill="#fff" stroke="#9b59b6" stroke-width="2" rx="5"/>
    <rect x="0" y="0" width="200" height="30" fill="url(#headerPurple)" rx="5" ry="5"/>
    <rect x="0" y="25" width="200" height="5" fill="url(#headerPurple)"/>
    <text x="100" y="21" class="class-name" text-anchor="middle">Timer</text>
    
    <!-- Methods -->
    <line x1="0" y1="35" x2="200" y2="35" stroke="#ddd"/>
    <text x="10" y="52" class="method-name">+ __enter__() → Timer</text>
    <text x="10" y="67" class="method-name">+ __exit__(...)</text>
    <text x="10" y="82" class="method-name">+ elapsed: float</text>
  </g>
  
  <!-- ComplexityAnalyser -->
  <g transform="translate(570, 300)">
    <rect x="0" y="0" width="240" height="150" fill="#fff" stroke="#e67e22" stroke-width="2" rx="5"/>
    <rect x="0" y="0" width="240" height="30" fill="url(#headerOrange)" rx="5" ry="5"/>
    <rect x="0" y="25" width="240" height="5" fill="url(#headerOrange)"/>
    <text x="120" y="21" class="class-name" text-anchor="middle">ComplexityAnalyser</text>
    
    <!-- Methods -->
    <line x1="0" y1="35" x2="240" y2="35" stroke="#ddd"/>
    <text x="10" y="52" class="method-name">+ estimate_exponent(sizes, times)</text>
    <text x="10" y="67" class="method-name">+ fit_complexity_models()</text>
    <text x="10" y="82" class="method-name">+ find_best_fit() → str</text>
    <text x="10" y="97" class="method-name">+ plot_analysis(path: Path)</text>
    <text x="10" y="112" class="method-name">+ generate_report() → str</text>
  </g>
  
  <!-- Sorting algorithms box -->
  <g transform="translate(50, 480)">
    <rect x="0" y="0" width="280" height="130" fill="#fff" stroke="#95a5a6" stroke-width="2" rx="5" stroke-dasharray="5,3"/>
    <text x="140" y="20" class="label" text-anchor="middle" style="font-weight: bold;">Sorting Algorithms</text>
    <line x1="10" y1="30" x2="270" y2="30" stroke="#ddd"/>
    <text x="15" y="50" class="method-name">bubble_sort(arr: list) → list</text>
    <text x="15" y="68" class="method-name">insertion_sort(arr: list) → list</text>
    <text x="15" y="86" class="method-name">merge_sort(arr: list) → list</text>
    <text x="15" y="104" class="method-name">quicksort(arr: list) → list</text>
    <text x="15" y="122" class="method-name">heapsort(arr: list) → list</text>
  </g>
  
  <!-- Data generators box -->
  <g transform="translate(570, 480)">
    <rect x="0" y="0" width="240" height="100" fill="#fff" stroke="#95a5a6" stroke-width="2" rx="5" stroke-dasharray="5,3"/>
    <text x="120" y="20" class="label" text-anchor="middle" style="font-weight: bold;">Data Generators</text>
    <line x1="10" y1="30" x2="230" y2="30" stroke="#ddd"/>
    <text x="15" y="50" class="method-name">generate_random(n) → list</text>
    <text x="15" y="68" class="method-name">generate_sorted(n) → list</text>
    <text x="15" y="86" class="method-name">generate_reversed(n) → list</text>
  </g>
  
  <!-- Relationships -->
  <!-- BenchmarkSuite creates BenchmarkResult -->
  <path d="M 320,200 L 160,200 L 160,300" class="arrow"/>
  <text x="180" y="195" class="label">creates</text>
  
  <!-- BenchmarkSuite uses Timer -->
  <path d="M 450,260 L 450,300" class="arrow"/>
  <text x="455" y="285" class="label">uses</text>
  
  <!-- BenchmarkSuite uses ComplexityAnalyser -->
  <path d="M 580,200 L 690,200 L 690,300" class="arrow"/>
  <text x="610" y="195" class="label">analyses with</text>
  
  <!-- BenchmarkSuite benchmarks algorithms -->
  <path d="M 320,230 L 190,230 L 190,480" class="dashed-arrow"/>
  <text x="195" y="350" class="label" style="font-style: italic;">benchmarks</text>
  
  <!-- BenchmarkSuite uses generators -->
  <path d="M 580,230 L 690,230 L 690,480" class="dashed-arrow"/>
  <text x="695" y="350" class="label" style="font-style: italic;">generates test data</text>
  
  <!-- Workflow annotation -->
  <g transform="translate(360, 450)">
    <rect x="0" y="0" width="180" height="65" fill="#e8f4f8" stroke="#3498db" rx="5"/>
    <text x="90" y="18" class="label" text-anchor="middle" style="font-weight: bold;">Typical Workflow</text>
    <text x="10" y="35" class="attribute">1. Create BenchmarkSuite</text>
    <text x="10" y="48" class="attribute">2. Add algorithms to test</text>
    <text x="10" y="61" class="attribute">3. run_all() → analyse</text>
  </g>
  
  <!-- Footer -->
  <text x="880" y="640" class="subtitle" text-anchor="end" style="font-size: 10px;">© 2025 Antonio Clim</text>
</svg>
