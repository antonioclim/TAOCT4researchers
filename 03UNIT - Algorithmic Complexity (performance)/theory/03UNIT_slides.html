<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 3: Complexitate AlgoritmicÄƒ | Computational Thinking</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/theme/night.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/plugin/highlight/monokai.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
    <style>
        :root { --r-heading-color: #58a6ff; }
        .reveal h1, .reveal h2 { text-transform: none; }
        .reveal .slides section { text-align: left; }
        
        .hook-box {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-left: 4px solid #e94560;
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        .hook-box .source {
            font-size: 0.7em; color: #888;
            margin-top: 10px; font-style: normal;
        }
        
        .definition-box {
            background: linear-gradient(135deg, #0f3460 0%, #16213e 100%);
            border: 1px solid #58a6ff;
            padding: 20px; margin: 15px 0; border-radius: 8px;
        }
        .definition-box h4 { color: #58a6ff; margin: 0 0 10px 0; font-size: 1em; }
        
        .theorem-box {
            background: linear-gradient(135deg, #1a472a 0%, #16213e 100%);
            border: 1px solid #3fb950;
            padding: 20px; margin: 15px 0; border-radius: 8px;
        }
        .theorem-box h4 { color: #3fb950; margin: 0 0 10px 0; }
        
        .proof-box {
            background: linear-gradient(135deg, #2d1b4e 0%, #16213e 100%);
            border: 1px solid #a371f7;
            padding: 20px; margin: 15px 0; border-radius: 8px;
            font-size: 0.9em;
        }
        .proof-box h4 { color: #a371f7; margin: 0 0 10px 0; }
        
        .diagram-box {
            background: #0d1117;
            border: 1px solid #30363d;
            padding: 20px; border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.6em; line-height: 1.4;
        }
        
        .two-columns { display: flex; gap: 40px; }
        .two-columns > div { flex: 1; }
        .three-columns { display: flex; gap: 20px; }
        .three-columns > div { flex: 1; }
        
        .highlight-text { color: #ffa657; font-weight: bold; }
        .small-text { font-size: 0.75em; color: #8b949e; }
        
        table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.75em; }
        th, td { border: 1px solid #30363d; padding: 8px; text-align: left; }
        th { background: #161b22; color: #58a6ff; }
        tr:nth-child(even) { background: #0d1117; }
        
        .math-box {
            background: #0d1117;
            border: 1px solid #58a6ff;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin: 15px 0;
        }
        
        .complexity-table td:nth-child(2),
        .complexity-table td:nth-child(3),
        .complexity-table td:nth-child(4) {
            text-align: right;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">
            
            <!-- TITLE -->
            <section data-background-gradient="linear-gradient(135deg, #0d1117 0%, #161b22 100%)">
                <h1 style="font-size: 2em;">â±ï¸ SÄƒptÄƒmÃ¢na 3</h1>
                <h2 style="color: #58a6ff; font-size: 1.5em;">COMPLEXITATE ALGORITMICÄ‚</h2>
                <p style="color: #8b949e; font-size: 0.9em;">
                    De la Analiza TeoreticÄƒ la Profiling Empiric
                </p>
                <hr style="border-color: #30363d; margin: 30px 0;">
                <p style="font-size: 0.7em; color: #8b949e;">
                    THE ART OF COMPUTATIONAL THINKING FOR RESEARCHERS
                </p>
            </section>
            
            <!-- HOOK 1: The $1 Million Question -->
            <section>
                <h2>ğŸ’° Ãntrebarea de un milion de dolari</h2>
                
                <div class="hook-box">
                    <p>
                        Ãn anul 2000, Clay Mathematics Institute a publicat 7 probleme, 
                        oferind <strong>$1,000,000</strong> pentru rezolvarea fiecÄƒreia.
                    </p>
                    <p>
                        Una dintre ele: <strong>P vs NP</strong> â€” cea mai importantÄƒ 
                        Ã®ntrebare nerezolvatÄƒ din informaticÄƒ.
                    </p>
                    <p class="source">
                        â€” PÃ¢nÄƒ azi (2026), problema rÄƒmÃ¢ne deschisÄƒ. ConsecinÈ›ele unei 
                        rezolvÄƒri ar fi revoluÈ›ionare pentru criptografie, optimizare, 
                        È™i inteligenÈ›Äƒ artificialÄƒ.
                    </p>
                </div>
                
                <p class="fragment">
                    De ce e atÃ¢t de importantÄƒ? Pentru cÄƒ ne spune 
                    <span class="highlight-text">ce putem È™i ce NU putem calcula eficient</span>.
                </p>
            </section>
            
            <!-- AGENDA -->
            <section>
                <h2>ğŸ“‹ Agenda</h2>
                
                <table>
                    <tr><th>Timp</th><th>Modul</th><th>ConÈ›inut</th></tr>
                    <tr><td>0:00-0:50</td><td>Teorie</td><td>NotaÈ›ii asimptotice, clase de complexitate</td></tr>
                    <tr><td>0:50-1:35</td><td>Python</td><td>Profiling, optimizare, Numba</td></tr>
                    <tr><td>1:35-1:50</td><td colspan="2" style="text-align:center;">â˜• PauzÄƒ</td></tr>
                    <tr><td>1:50-2:35</td><td>C++</td><td>Cache optimization, SIMD, benchmarking</td></tr>
                    <tr><td>2:35-3:20</td><td>JavaScript</td><td>V8 optimization, Web Workers</td></tr>
                    <tr><td>3:20-4:00</td><td>Lab</td><td>Benchmark Suite Polyglot</td></tr>
                </table>
            </section>
            
            <!-- PART I: THEORY -->
            <section>
                <section>
                    <h1>PARTEA I</h1>
                    <h2 style="color: #58a6ff;">Fundamentele Teoretice</h2>
                    <p class="small-text">50 minute</p>
                </section>
                
                <!-- HOOK 2: Google's Index -->
                <section>
                    <h2>De ce conteazÄƒ complexitatea?</h2>
                    
                    <div class="hook-box">
                        <p>
                            Google indexeazÄƒ aproximativ <strong>100 miliarde de pagini web</strong>.
                            CÃ¢nd cauÈ›i ceva, primeÈ™ti rÄƒspuns Ã®n <strong>0.5 secunde</strong>.
                        </p>
                        <p>
                            DacÄƒ Google ar folosi cÄƒutare liniarÄƒ, fiecare query ar dura 
                            <strong>3 ani</strong>.
                        </p>
                        <p class="source">
                            â€” Cu indexare corectÄƒ (B-trees, hashing), timpul e logaritmic: 
                            ~37 operaÈ›ii pentru 100 miliarde de elemente.
                        </p>
                    </div>
                </section>
                
                <!-- BIG O DEFINITION -->
                <section>
                    <h2>NotaÈ›ia Big-O: DefiniÈ›ie FormalÄƒ</h2>
                    
                    <div class="definition-box">
                        <h4>DefiniÈ›ie (Big-O)</h4>
                        <p>
                            Fie f, g: â„• â†’ â„âº. Spunem cÄƒ <strong>f(n) = O(g(n))</strong> dacÄƒ È™i numai dacÄƒ:
                        </p>
                        <div class="math-box">
                            âˆƒ c > 0, âˆƒ nâ‚€ âˆˆ â„• : âˆ€ n â‰¥ nâ‚€, f(n) â‰¤ c Â· g(n)
                        </div>
                        <p>
                            Intuitiv: f nu creÈ™te mai repede decÃ¢t g (pÃ¢nÄƒ la o constantÄƒ).
                        </p>
                    </div>
                    
                    <div class="fragment proof-box">
                        <h4>Exemplu: 3nÂ² + 5n + 7 = O(nÂ²)</h4>
                        <p>
                            DemonstraÈ›ie: Pentru n â‰¥ 1:<br>
                            3nÂ² + 5n + 7 â‰¤ 3nÂ² + 5nÂ² + 7nÂ² = 15nÂ²<br>
                            Alegem c = 15, nâ‚€ = 1. âˆ
                        </p>
                    </div>
                </section>
                
                <!-- OTHER NOTATIONS -->
                <section>
                    <h2>Familia CompletÄƒ de NotaÈ›ii</h2>
                    
                    <table style="font-size: 0.7em;">
                        <tr>
                            <th>NotaÈ›ie</th>
                            <th>DefiniÈ›ie</th>
                            <th>Analog</th>
                            <th>Sens</th>
                        </tr>
                        <tr>
                            <td><strong>O(g)</strong></td>
                            <td>f(n) â‰¤ cÂ·g(n)</td>
                            <td>â‰¤</td>
                            <td>LimitÄƒ superioarÄƒ (cel mult)</td>
                        </tr>
                        <tr>
                            <td><strong>Î©(g)</strong></td>
                            <td>f(n) â‰¥ cÂ·g(n)</td>
                            <td>â‰¥</td>
                            <td>LimitÄƒ inferioarÄƒ (cel puÈ›in)</td>
                        </tr>
                        <tr>
                            <td><strong>Î˜(g)</strong></td>
                            <td>câ‚Â·g(n) â‰¤ f(n) â‰¤ câ‚‚Â·g(n)</td>
                            <td>=</td>
                            <td>Ordine exactÄƒ (tight bound)</td>
                        </tr>
                        <tr>
                            <td><strong>o(g)</strong></td>
                            <td>lim f(n)/g(n) = 0</td>
                            <td><</td>
                            <td>Strict mai mic</td>
                        </tr>
                        <tr>
                            <td><strong>Ï‰(g)</strong></td>
                            <td>lim f(n)/g(n) = âˆ</td>
                            <td>></td>
                            <td>Strict mai mare</td>
                        </tr>
                    </table>
                    
                    <div class="fragment">
                        <p><strong>RelaÈ›ii utile:</strong></p>
                        <ul style="font-size: 0.8em;">
                            <li>f(n) = Î˜(g(n)) âŸº f(n) = O(g(n)) âˆ§ f(n) = Î©(g(n))</li>
                            <li>f(n) = o(g(n)) âŸ¹ f(n) = O(g(n)) (dar nu invers!)</li>
                        </ul>
                    </div>
                </section>
                
                <!-- COMPLEXITY HIERARCHY -->
                <section>
                    <h2>Ierarhia ComplexitÄƒÈ›ilor</h2>
                    
                    <div class="diagram-box">
<pre>
    Timp pentru n = 1,000,000 (la 10â¹ operaÈ›ii/secundÄƒ)
    
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  O(1)         â”‚ 1 ns                      â”‚ constant            â”‚
    â”‚  O(log n)     â”‚ 20 ns                     â”‚ logaritmic          â”‚
    â”‚  O(âˆšn)        â”‚ 1 Î¼s                      â”‚ radical             â”‚
    â”‚  O(n)         â”‚ 1 ms                      â”‚ liniar              â”‚
    â”‚  O(n log n)   â”‚ 20 ms                     â”‚ linearitmic         â”‚
    â”‚  O(nÂ²)        â”‚ 16.7 minute               â”‚ pÄƒtratic            â”‚
    â”‚  O(nÂ³)        â”‚ 31.7 ani                  â”‚ cubic               â”‚
    â”‚  O(2â¿)        â”‚ 10Â³â°Â¹â°Â²â· ani              â”‚ exponenÈ›ial         â”‚
    â”‚  O(n!)        â”‚ âˆ                         â”‚ factorial           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Grafic (log-log scale):
    
    timp â”‚                                              /
    (log)â”‚                                           / n!
         â”‚                                        /2â¿
         â”‚                                    nÂ³/
         â”‚                              nÂ²  /
         â”‚                         n log n
         â”‚                    n  /
         â”‚            âˆšn    /
         â”‚      log n    /
         â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€/â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ n (log)
</pre>
                    </div>
                </section>
                
                <!-- PRACTICAL IMPLICATIONS -->
                <section>
                    <h2>ImplicaÈ›ii Practice</h2>
                    
                    <table class="complexity-table" style="font-size: 0.65em;">
                        <tr>
                            <th>Complexitate</th>
                            <th>n=10</th>
                            <th>n=100</th>
                            <th>n=1000</th>
                            <th>n=10â¶</th>
                            <th>Algoritm Tipic</th>
                        </tr>
                        <tr>
                            <td>O(1)</td>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                            <td>1</td>
                            <td>Hash lookup</td>
                        </tr>
                        <tr>
                            <td>O(log n)</td>
                            <td>3</td>
                            <td>7</td>
                            <td>10</td>
                            <td>20</td>
                            <td>Binary search</td>
                        </tr>
                        <tr>
                            <td>O(n)</td>
                            <td>10</td>
                            <td>100</td>
                            <td>1,000</td>
                            <td>10â¶</td>
                            <td>Linear scan</td>
                        </tr>
                        <tr>
                            <td>O(n log n)</td>
                            <td>33</td>
                            <td>664</td>
                            <td>9,966</td>
                            <td>2Ã—10â·</td>
                            <td>Merge sort</td>
                        </tr>
                        <tr>
                            <td>O(nÂ²)</td>
                            <td>100</td>
                            <td>10,000</td>
                            <td>10â¶</td>
                            <td>10Â¹Â²</td>
                            <td>Bubble sort</td>
                        </tr>
                        <tr>
                            <td>O(2â¿)</td>
                            <td>1,024</td>
                            <td>10Â³â°</td>
                            <td>ğŸ”¥</td>
                            <td>ğŸ”¥</td>
                            <td>Subset enum</td>
                        </tr>
                    </table>
                    
                    <p class="fragment" style="font-size: 0.8em;">
                        <strong>Regula practicÄƒ:</strong> 10â¸-10â¹ operaÈ›ii/secundÄƒ pe hardware modern.<br>
                        Pentru n=10â¶: O(nÂ²) = timeout, O(n log n) = OK, O(n) = fast.
                    </p>
                </section>
                
                <!-- MASTER THEOREM -->
                <section>
                    <h2>Teorema Master</h2>
                    
                    <div class="theorem-box">
                        <h4>Teorema Master (SimplificatÄƒ)</h4>
                        <p>
                            Pentru recurenÈ›e de forma <strong>T(n) = aÂ·T(n/b) + f(n)</strong> unde a â‰¥ 1, b > 1:
                        </p>
                        <ol style="font-size: 0.85em;">
                            <li>DacÄƒ f(n) = O(n<sup>log<sub>b</sub>a - Îµ</sup>) âŸ¹ T(n) = Î˜(n<sup>log<sub>b</sub>a</sup>)</li>
                            <li>DacÄƒ f(n) = Î˜(n<sup>log<sub>b</sub>a</sup>) âŸ¹ T(n) = Î˜(n<sup>log<sub>b</sub>a</sup> log n)</li>
                            <li>DacÄƒ f(n) = Î©(n<sup>log<sub>b</sub>a + Îµ</sup>) âŸ¹ T(n) = Î˜(f(n))</li>
                        </ol>
                    </div>
                    
                    <div class="fragment" style="font-size: 0.85em;">
                        <p><strong>Exemple:</strong></p>
                        <ul>
                            <li><strong>Merge Sort:</strong> T(n) = 2T(n/2) + Î˜(n) â†’ a=2, b=2, f(n)=n, logâ‚‚2=1 â†’ Cazul 2 â†’ <span class="highlight-text">Î˜(n log n)</span></li>
                            <li><strong>Binary Search:</strong> T(n) = T(n/2) + Î˜(1) â†’ a=1, b=2, logâ‚‚1=0 â†’ Cazul 2 â†’ <span class="highlight-text">Î˜(log n)</span></li>
                        </ul>
                    </div>
                </section>
                
                <!-- P VS NP -->
                <section>
                    <h2>P vs NP: EsenÈ›a Problemei</h2>
                    
                    <div class="two-columns">
                        <div>
                            <div class="definition-box" style="font-size: 0.85em;">
                                <h4>Clasa P</h4>
                                <p>Probleme care pot fi <strong>rezolvate</strong> Ã®n timp polinomial.</p>
                                <p>Exemple: sortare, cÄƒutare, shortest path</p>
                            </div>
                        </div>
                        <div>
                            <div class="definition-box" style="font-size: 0.85em;">
                                <h4>Clasa NP</h4>
                                <p>Probleme ale cÄƒror soluÈ›ii pot fi <strong>verificate</strong> Ã®n timp polinomial.</p>
                                <p>Exemple: SAT, clique, TSP</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="diagram-box fragment" style="font-size: 0.55em; margin-top: 20px;">
<pre>
           DacÄƒ P â‰  NP (aproape sigur):          DacÄƒ P = NP (improbabil):
           
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚         NP          â”‚               â”‚                     â”‚
           â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚               â”‚     P = NP          â”‚
           â”‚   â”‚ NP-complete â”‚   â”‚               â”‚                     â”‚
           â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚               â”‚  Toate problemele   â”‚
           â”‚  â”Œâ”€â”€â”€â”              â”‚               â”‚  din NP au soluÈ›ii  â”‚
           â”‚  â”‚ P â”‚              â”‚               â”‚  eficiente!         â”‚
           â”‚  â””â”€â”€â”€â”˜              â”‚               â”‚                     â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           
           Criptografia funcÈ›ioneazÄƒ            Criptografia e spartÄƒ
           Optimizarea e grea                   AI-ul poate rezolva orice
</pre>
                    </div>
                </section>
                
                <!-- HOOK 3: Exponential Growth -->
                <section>
                    <h2>CÃ¢nd exponenÈ›ialul devine personal</h2>
                    
                    <div class="hook-box">
                        <p>
                            CercetÄƒtorii de la DeepMind au demonstrat cÄƒ AlphaFold prezice 
                            structura proteinelor Ã®n <strong>minute</strong>. Metoda anterioarÄƒ 
                            (cristalografie X-ray) dura <strong>luni sau ani</strong>.
                        </p>
                        <p>
                            Dar AlphaFold nu a rezolvat problema â€” a evitat-o. Plierea 
                            proteinelor rÄƒmÃ¢ne NP-hard. AI-ul gÄƒseÈ™te <em>aproximÄƒri bune</em>, 
                            nu soluÈ›ii optime garantate.
                        </p>
                        <p class="source">
                            â€” Jumper et al., "Highly accurate protein structure prediction 
                            with AlphaFold", Nature 2021
                        </p>
                    </div>
                </section>
            </section>
            
            <!-- PART II: PYTHON -->
            <section>
                <section>
                    <h1>PARTEA II</h1>
                    <h2 style="color: #3572A5;">ğŸ Python</h2>
                    <p>Profiling, Optimization, Numba</p>
                </section>
                
                <!-- PROFILING -->
                <section>
                    <h2>Profiling: MÄƒsoarÄƒ Ã®nainte de a optimiza</h2>
                    
                    <div class="hook-box" style="font-size: 0.9em;">
                        <p>
                            <em>"Premature optimization is the root of all evil."</em>
                        </p>
                        <p class="source">â€” Donald Knuth</p>
                    </div>
                    
                    <pre><code class="language-python" data-trim data-line-numbers>
import cProfile
import pstats

def analyze_data(data):
    result = []
    for item in data:
        if expensive_check(item):
            result.append(transform(item))
    return aggregate(result)

# Profiling simplu
cProfile.run('analyze_data(large_dataset)', 'profile_output')

# AnalizÄƒ detaliatÄƒ
stats = pstats.Stats('profile_output')
stats.sort_stats('cumulative')
stats.print_stats(10)  # Top 10 funcÈ›ii

# Output:
#    ncalls  tottime  cumtime  filename:lineno(function)
#    10000    0.523    5.234   expensive_check
#    10000    0.134    0.134   transform
#        1    0.001    5.489   analyze_data
                    </code></pre>
                </section>
                
                <!-- LINE PROFILER -->
                <section>
                    <h2>Line Profiler: Unde exact e problema?</h2>
                    
                    <pre><code class="language-python" data-trim data-line-numbers>
# pip install line_profiler
# kernprof -l -v script.py

@profile  # Decorator special pentru line_profiler
def find_duplicates(items):
    seen = set()
    duplicates = []
    for item in items:            # Linia 5
        if item in seen:           # Linia 6 - O(1) average
            duplicates.append(item) # Linia 7
        seen.add(item)             # Linia 8 - O(1)
    return duplicates

# Output:
# Line #  Hits    Time   Per Hit  % Time  Line Contents
#      5  10000   1234.0    0.1     5.2%  for item in items:
#      6  10000   2345.0    0.2    10.1%  if item in seen:
#      7    523    456.0    0.9     2.0%  duplicates.append(item)
#      8  10000  19234.0    1.9    82.7%  seen.add(item)  # â† BOTTLENECK!
                    </code></pre>
                    
                    <p class="fragment" style="font-size: 0.85em;">
                        <strong>SurprizÄƒ!</strong> <code>set.add()</code> e O(1) dar constanta 
                        poate fi mare din cauza hashing-ului È™i collision resolution.
                    </p>
                </section>
                
                <!-- NUMBA -->
                <section>
                    <h2>Numba: JIT Compilation pentru Python</h2>
                    
                    <pre><code class="language-python" data-trim data-line-numbers>
import numpy as np
from numba import jit, prange

# Versiunea Python purÄƒ
def distance_matrix_python(points):
    n = len(points)
    result = np.zeros((n, n))
    for i in range(n):
        for j in range(n):
            diff = points[i] - points[j]
            result[i, j] = np.sqrt(np.sum(diff ** 2))
    return result

# Versiunea Numba (doar adÄƒugÄƒm decorator!)
@jit(nopython=True, parallel=True)
def distance_matrix_numba(points):
    n = len(points)
    result = np.zeros((n, n))
    for i in prange(n):  # prange pentru paralelism
        for j in range(n):
            diff = points[i] - points[j]
            result[i, j] = np.sqrt(np.sum(diff ** 2))
    return result

# Benchmark: n=1000, Numba e ~100x mai rapid!
                    </code></pre>
                </section>
            </section>
            
            <!-- PART III: C++ -->
            <section>
                <section>
                    <h1>PARTEA III</h1>
                    <h2 style="color: #f34b7d;">âš¡ C++</h2>
                    <p>Cache Optimization, SIMD</p>
                </section>
                
                <!-- CACHE HIERARCHY -->
                <section>
                    <h2>Ierarhia de Memorie</h2>
                    
                    <div class="diagram-box">
<pre>
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    MEMORY HIERARCHY                              â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                                  â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
    â”‚   â”‚Registersâ”‚  ~1 cycle     â”‚ ~1 KB     â”‚ Fastest               â”‚
    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                    â”‚
    â”‚        â”‚                                                         â”‚
    â”‚   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                    â”‚
    â”‚   â”‚ L1 Cacheâ”‚  ~4 cycles    â”‚ ~64 KB    â”‚ Per core              â”‚
    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                    â”‚
    â”‚        â”‚                                                         â”‚
    â”‚   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                    â”‚
    â”‚   â”‚ L2 Cacheâ”‚  ~12 cycles   â”‚ ~256 KB   â”‚ Per core              â”‚
    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                    â”‚
    â”‚        â”‚                                                         â”‚
    â”‚   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                    â”‚
    â”‚   â”‚ L3 Cacheâ”‚  ~40 cycles   â”‚ ~8-32 MB  â”‚ Shared                â”‚
    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                    â”‚
    â”‚        â”‚                                                         â”‚
    â”‚   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                    â”‚
    â”‚   â”‚  RAM    â”‚  ~200 cycles  â”‚ ~16-64 GB â”‚ Main memory           â”‚
    â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                    â”‚
    â”‚        â”‚                                                         â”‚
    â”‚   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                                                    â”‚
    â”‚   â”‚  SSD    â”‚  ~50,000 cyclesâ”‚ ~1 TB    â”‚ Storage               â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
    â”‚                                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    
    Cache miss = 50-200x penalty!
</pre>
                    </div>
                </section>
                
                <!-- CACHE-FRIENDLY CODE -->
                <section>
                    <h2>Cod Cache-Friendly</h2>
                    
                    <div class="two-columns">
                        <div>
                            <h4 style="color: #f85149;">Cache-Unfriendly</h4>
                            <pre><code class="language-cpp" style="font-size: 0.65em;">
// Column-major traversal
for (int j = 0; j < N; j++) {
    for (int i = 0; i < N; i++) {
        sum += matrix[i][j];
        // Jump de N*sizeof(double)
        // Ã®ntre accesÄƒri consecutive!
    }
}

// Cache misses: O(NÂ²)
                            </code></pre>
                        </div>
                        <div>
                            <h4 style="color: #3fb950;">Cache-Friendly</h4>
                            <pre><code class="language-cpp" style="font-size: 0.65em;">
// Row-major traversal
for (int i = 0; i < N; i++) {
    for (int j = 0; j < N; j++) {
        sum += matrix[i][j];
        // Acces secvenÈ›ial!
        // Cache line prefetch works
    }
}

// Cache misses: O(NÂ²/64)
                            </code></pre>
                        </div>
                    </div>
                    
                    <p class="fragment" style="font-size: 0.85em;">
                        <strong>Rezultat:</strong> Pe N=10000, diferenÈ›a poate fi <span class="highlight-text">10-50x</span>!
                    </p>
                </section>
            </section>
            
            <!-- LAB -->
            <section>
                <h2>ğŸ”¬ Laborator: Benchmark Suite</h2>
                
                <div class="diagram-box">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BENCHMARK FRAMEWORK                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   ALGORITHMS TO BENCHMARK:                                              â”‚
â”‚   â”œâ”€â”€ Sorting: bubble, insertion, merge, quick, heap, tim              â”‚
â”‚   â”œâ”€â”€ Searching: linear, binary, hash, interpolation                   â”‚
â”‚   â”œâ”€â”€ Matrix: naive mult, blocked, strassen                            â”‚
â”‚   â””â”€â”€ Graph: BFS, DFS, Dijkstra, A*                                    â”‚
â”‚                                                                         â”‚
â”‚   METRICS:                                                              â”‚
â”‚   â”œâ”€â”€ Wall time (real elapsed)                                         â”‚
â”‚   â”œâ”€â”€ CPU time (user + system)                                         â”‚
â”‚   â”œâ”€â”€ Memory peak                                                      â”‚
â”‚   â”œâ”€â”€ Cache misses (perf counters)                                     â”‚
â”‚   â””â”€â”€ Operations count                                                 â”‚
â”‚                                                                         â”‚
â”‚   OUTPUT:                                                               â”‚
â”‚   â”œâ”€â”€ CSV with raw data                                                â”‚
â”‚   â”œâ”€â”€ Plots: time vs n, log-log scaling                                â”‚
â”‚   â”œâ”€â”€ Complexity estimation via curve fitting                          â”‚
â”‚   â””â”€â”€ Comparison table across languages                                â”‚
â”‚                                                                         â”‚
â”‚   LANGUAGES: Python (+ Numba) | C++ | JavaScript                       â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
                </div>
            </section>
            
            <!-- END -->
            <section data-background-gradient="linear-gradient(135deg, #0d1117 0%, #161b22 100%)">
                <h1>ÃntrebÄƒri?</h1>
                <p style="color: #8b949e;">
                    SÄƒptÄƒmÃ¢na viitoare: <strong>Structuri de Date Avansate</strong>
                </p>
                <hr style="border-color: #30363d; margin: 30px 0;">
                <p style="font-size: 0.7em; color: #8b949e;">
                    ğŸ“§ antonio.clim@csie.ase.ro<br>
                    ğŸ”— github.com/ase-csie/computational-thinking
                </p>
            </section>
            
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.0.4/plugin/math/math.js"></script>
    
    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: 'c/t',
            transition: 'slide',
            plugins: [ RevealHighlight, RevealMath.KaTeX ]
        });
    </script>
</body>
</html>
