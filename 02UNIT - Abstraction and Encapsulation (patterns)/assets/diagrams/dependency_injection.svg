<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550" width="800" height="550">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3fb950"/>
    </marker>
    <linearGradient id="containerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#238636;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a7f37;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="550" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="20" font-weight="bold">Dependency Injection &amp; Inversion of Control</text>
  
  <!-- Without DI (left side) -->
  <rect x="30" y="60" width="350" height="200" rx="8" fill="#161b22" stroke="#f85149" stroke-width="2"/>
  <text x="205" y="85" text-anchor="middle" fill="#f85149" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold">❌ Without Dependency Injection</text>
  
  <!-- High-level class creating dependencies -->
  <rect x="130" y="105" width="150" height="50" rx="4" fill="#21262d" stroke="#8b949e"/>
  <text x="205" y="127" text-anchor="middle" fill="#c9d1d9" font-family="monospace" font-size="11">SimulationRunner</text>
  <text x="205" y="145" text-anchor="middle" fill="#8b949e" font-family="monospace" font-size="9">creates dependencies</text>
  
  <!-- Dependencies created internally -->
  <rect x="60" y="190" width="90" height="40" rx="4" fill="#f8514933" stroke="#f85149"/>
  <text x="105" y="215" text-anchor="middle" fill="#f85149" font-family="monospace" font-size="10">FileLogger</text>
  
  <rect x="160" y="190" width="90" height="40" rx="4" fill="#f8514933" stroke="#f85149"/>
  <text x="205" y="215" text-anchor="middle" fill="#f85149" font-family="monospace" font-size="10">MySQLStore</text>
  
  <rect x="260" y="190" width="90" height="40" rx="4" fill="#f8514933" stroke="#f85149"/>
  <text x="305" y="215" text-anchor="middle" fill="#f85149" font-family="monospace" font-size="10">HTTPClient</text>
  
  <!-- Creation arrows (pointing down - tight coupling) -->
  <line x1="165" y1="155" x2="105" y2="185" stroke="#f85149" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="205" y1="155" x2="205" y2="185" stroke="#f85149" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="245" y1="155" x2="305" y2="185" stroke="#f85149" stroke-width="1.5" marker-end="url(#arrow)"/>
  
  <text x="205" y="248" text-anchor="middle" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="10" font-style="italic">Hard to test, inflexible</text>
  
  <!-- With DI (right side) -->
  <rect x="420" y="60" width="350" height="200" rx="8" fill="#161b22" stroke="#3fb950" stroke-width="2"/>
  <text x="595" y="85" text-anchor="middle" fill="#3fb950" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold">✓ With Dependency Injection</text>
  
  <!-- High-level class receiving dependencies -->
  <rect x="520" y="105" width="150" height="50" rx="4" fill="#21262d" stroke="#3fb950"/>
  <text x="595" y="127" text-anchor="middle" fill="#c9d1d9" font-family="monospace" font-size="11">SimulationRunner</text>
  <text x="595" y="145" text-anchor="middle" fill="#3fb950" font-family="monospace" font-size="9">receives abstractions</text>
  
  <!-- Abstraction interfaces -->
  <rect x="450" y="190" width="90" height="40" rx="4" fill="#23863633" stroke="#3fb950"/>
  <text x="495" y="215" text-anchor="middle" fill="#3fb950" font-family="monospace" font-size="10">Logger</text>
  
  <rect x="550" y="190" width="90" height="40" rx="4" fill="#23863633" stroke="#3fb950"/>
  <text x="595" y="215" text-anchor="middle" fill="#3fb950" font-family="monospace" font-size="10">DataStore</text>
  
  <rect x="650" y="190" width="90" height="40" rx="4" fill="#23863633" stroke="#3fb950"/>
  <text x="695" y="215" text-anchor="middle" fill="#3fb950" font-family="monospace" font-size="10">Client</text>
  
  <!-- Injection arrows (pointing up - loose coupling) -->
  <line x1="495" y1="190" x2="555" y2="160" stroke="#3fb950" stroke-width="1.5" marker-end="url(#arrow-green)"/>
  <line x1="595" y1="190" x2="595" y2="160" stroke="#3fb950" stroke-width="1.5" marker-end="url(#arrow-green)"/>
  <line x1="695" y1="190" x2="635" y2="160" stroke="#3fb950" stroke-width="1.5" marker-end="url(#arrow-green)"/>
  
  <text x="595" y="248" text-anchor="middle" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="10" font-style="italic">Testable, flexible, decoupled</text>
  
  <!-- IoC Container section -->
  <rect x="150" y="290" width="500" height="230" rx="8" fill="#161b22" stroke="#a371f7" stroke-width="2"/>
  <text x="400" y="315" text-anchor="middle" fill="#a371f7" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold">IoC Container (Dependency Injection Container)</text>
  
  <!-- Container box -->
  <rect x="280" y="335" width="240" height="80" rx="8" fill="url(#containerGrad)" stroke="#3fb950" stroke-width="2"/>
  <text x="400" y="365" text-anchor="middle" fill="#ffffff" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold">Container</text>
  <text x="400" y="385" text-anchor="middle" fill="#c9d1d9" font-family="monospace" font-size="10">register()</text>
  <text x="400" y="400" text-anchor="middle" fill="#c9d1d9" font-family="monospace" font-size="10">resolve()</text>
  
  <!-- Registration side -->
  <rect x="180" y="440" width="100" height="35" rx="4" fill="#21262d" stroke="#ffa657"/>
  <text x="230" y="462" text-anchor="middle" fill="#ffa657" font-family="monospace" font-size="10">Production</text>
  
  <rect x="180" y="480" width="100" height="35" rx="4" fill="#21262d" stroke="#79c0ff"/>
  <text x="230" y="502" text-anchor="middle" fill="#79c0ff" font-family="monospace" font-size="10">Testing</text>
  
  <!-- Resolution side -->
  <rect x="520" y="440" width="100" height="35" rx="4" fill="#21262d" stroke="#3fb950"/>
  <text x="570" y="462" text-anchor="middle" fill="#3fb950" font-family="monospace" font-size="10">Application</text>
  
  <!-- Arrows to/from container -->
  <line x1="280" y1="457" x2="280" y2="400" stroke="#ffa657" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="250" y="430" fill="#ffa657" font-family="Segoe UI, sans-serif" font-size="9">register</text>
  
  <line x1="280" y1="497" x2="280" y2="420" stroke="#79c0ff" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="250" y="475" fill="#79c0ff" font-family="Segoe UI, sans-serif" font-size="9">register</text>
  
  <line x1="520" y1="400" x2="520" y2="435" stroke="#3fb950" stroke-width="1.5" marker-end="url(#arrow-green)"/>
  <text x="545" y="425" fill="#3fb950" font-family="Segoe UI, sans-serif" font-size="9">resolve</text>
  
  <!-- Benefits list -->
  <text x="400" y="535" text-anchor="middle" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="11">
    <tspan fill="#3fb950">✓</tspan> Centralised configuration
    <tspan dx="20" fill="#3fb950">✓</tspan> Lifecycle management  
    <tspan dx="20" fill="#3fb950">✓</tspan> Easy testing via mocks
  </text>
</svg>
