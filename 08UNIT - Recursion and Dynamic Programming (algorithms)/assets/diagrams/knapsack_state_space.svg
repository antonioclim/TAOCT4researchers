<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 650" width="900" height="650">
  <defs>
    <linearGradient id="bgGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="cellActive" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3fb950"/>
      <stop offset="100%" style="stop-color:#238636"/>
    </linearGradient>
    <linearGradient id="cellPath" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0883e"/>
      <stop offset="100%" style="stop-color:#b86428"/>
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#58a6ff"/>
    </marker>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="650" fill="url(#bgGrad2)"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="22" font-weight="bold">
    0-1 Knapsack: DP Table Construction
  </text>
  <text x="450" y="65" text-anchor="middle" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="13">
    Items: [(weight=2, value=3), (w=3, v=4), (w=4, v=5), (w=5, v=6)] | Capacity W=8
  </text>
  
  <!-- DP Table -->
  <g transform="translate(100, 100)">
    <!-- Table header row (capacity) -->
    <text x="60" y="-15" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold">
      Capacity w →
    </text>
    <text x="-30" y="110" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold" transform="rotate(-90, -30, 110)">
      Items i →
    </text>
    
    <!-- Capacity labels (0-8) -->
    <g font-family="monospace" font-size="14" fill="#58a6ff" text-anchor="middle">
      <text x="80" y="-5">0</text>
      <text x="140" y="-5">1</text>
      <text x="200" y="-5">2</text>
      <text x="260" y="-5">3</text>
      <text x="320" y="-5">4</text>
      <text x="380" y="-5">5</text>
      <text x="440" y="-5">6</text>
      <text x="500" y="-5">7</text>
      <text x="560" y="-5">8</text>
    </g>
    
    <!-- Item labels (0-4) -->
    <g font-family="monospace" font-size="14" fill="#58a6ff" text-anchor="end">
      <text x="45" y="35">0</text>
      <text x="45" y="85">1</text>
      <text x="45" y="135">2</text>
      <text x="45" y="185">3</text>
      <text x="45" y="235">4</text>
    </g>
    
    <!-- Row 0 (no items) -->
    <g transform="translate(50, 10)">
      <rect x="0" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="60" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="120" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="180" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="240" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="300" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="360" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="420" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="480" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <g font-family="monospace" font-size="16" fill="#6e7681" text-anchor="middle">
        <text x="27" y="30">0</text>
        <text x="87" y="30">0</text>
        <text x="147" y="30">0</text>
        <text x="207" y="30">0</text>
        <text x="267" y="30">0</text>
        <text x="327" y="30">0</text>
        <text x="387" y="30">0</text>
        <text x="447" y="30">0</text>
        <text x="507" y="30">0</text>
      </g>
    </g>
    
    <!-- Row 1 (item 1: w=2, v=3) -->
    <g transform="translate(50, 60)">
      <rect x="0" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="60" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="120" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="180" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="240" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="300" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="360" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="420" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="480" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <g font-family="monospace" font-size="16" text-anchor="middle">
        <text x="27" y="30" fill="#6e7681">0</text>
        <text x="87" y="30" fill="#6e7681">0</text>
        <text x="147" y="30" fill="#e6e6e6">3</text>
        <text x="207" y="30" fill="#e6e6e6">3</text>
        <text x="267" y="30" fill="#e6e6e6">3</text>
        <text x="327" y="30" fill="#e6e6e6">3</text>
        <text x="387" y="30" fill="#e6e6e6">3</text>
        <text x="447" y="30" fill="#e6e6e6">3</text>
        <text x="507" y="30" fill="#e6e6e6">3</text>
      </g>
    </g>
    
    <!-- Row 2 (item 2: w=3, v=4) -->
    <g transform="translate(50, 110)">
      <rect x="0" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="60" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="120" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="180" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="240" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="300" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="360" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="420" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="480" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <g font-family="monospace" font-size="16" text-anchor="middle">
        <text x="27" y="30" fill="#6e7681">0</text>
        <text x="87" y="30" fill="#6e7681">0</text>
        <text x="147" y="30" fill="#e6e6e6">3</text>
        <text x="207" y="30" fill="#e6e6e6">4</text>
        <text x="267" y="30" fill="#e6e6e6">4</text>
        <text x="327" y="30" fill="#e6e6e6">7</text>
        <text x="387" y="30" fill="#e6e6e6">7</text>
        <text x="447" y="30" fill="#e6e6e6">7</text>
        <text x="507" y="30" fill="#e6e6e6">7</text>
      </g>
    </g>
    
    <!-- Row 3 (item 3: w=4, v=5) -->
    <g transform="translate(50, 160)">
      <rect x="0" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="60" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="120" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="180" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="240" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="300" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="360" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="420" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="480" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <g font-family="monospace" font-size="16" text-anchor="middle">
        <text x="27" y="30" fill="#6e7681">0</text>
        <text x="87" y="30" fill="#6e7681">0</text>
        <text x="147" y="30" fill="#e6e6e6">3</text>
        <text x="207" y="30" fill="#e6e6e6">4</text>
        <text x="267" y="30" fill="#e6e6e6">5</text>
        <text x="327" y="30" fill="#e6e6e6">7</text>
        <text x="387" y="30" fill="#e6e6e6">8</text>
        <text x="447" y="30" fill="#e6e6e6">9</text>
        <text x="507" y="30" fill="#e6e6e6">9</text>
      </g>
    </g>
    
    <!-- Row 4 (item 4: w=5, v=6) - Final row with optimal path highlighted -->
    <g transform="translate(50, 210)">
      <rect x="0" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="60" width="55" height="40" fill="#21262d" stroke="#30363d"/>
      <rect x="120" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="180" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="240" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="300" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="360" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="420" width="55" height="40" fill="#0f3460" stroke="#58a6ff" stroke-width="2"/>
      <rect x="480" width="55" height="40" fill="url(#cellActive)" stroke="#3fb950" stroke-width="3" filter="url(#glow)"/>
      <g font-family="monospace" font-size="16" text-anchor="middle">
        <text x="27" y="30" fill="#6e7681">0</text>
        <text x="87" y="30" fill="#6e7681">0</text>
        <text x="147" y="30" fill="#e6e6e6">3</text>
        <text x="207" y="30" fill="#e6e6e6">4</text>
        <text x="267" y="30" fill="#e6e6e6">5</text>
        <text x="327" y="30" fill="#e6e6e6">7</text>
        <text x="387" y="30" fill="#e6e6e6">8</text>
        <text x="447" y="30" fill="#e6e6e6">9</text>
        <text x="507" y="30" fill="#ffffff" font-weight="bold">10</text>
      </g>
    </g>
    
    <!-- Dependency arrows showing optimal path trace-back -->
    <path d="M 557,230 L 447,180" stroke="#f0883e" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    <path d="M 447,180 L 267,130" stroke="#f0883e" stroke-width="2" marker-end="url(#arrowhead)" fill="none"/>
    
  </g>
  
  <!-- State Transition Formula -->
  <g transform="translate(100, 390)">
    <rect x="0" y="0" width="700" height="80" rx="8" fill="#0d1117" stroke="#30363d"/>
    <text x="350" y="25" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold">
      State Transition Equation
    </text>
    <text x="350" y="55" text-anchor="middle" fill="#e6e6e6" font-family="monospace" font-size="14">
      dp[i][w] = max( dp[i-1][w], dp[i-1][w - weight[i]] + value[i] )
    </text>
    <text x="350" y="72" text-anchor="middle" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="11">
      Choose: exclude item i (keep previous value) OR include item i (add its value to remaining capacity solution)
    </text>
  </g>
  
  <!-- Optimal Solution Box -->
  <g transform="translate(100, 490)">
    <rect x="0" y="0" width="340" height="100" rx="8" fill="#1a472a" stroke="#3fb950"/>
    <text x="170" y="25" text-anchor="middle" fill="#3fb950" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold">
      Optimal Solution
    </text>
    <text x="20" y="50" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="13">
      Maximum Value: <tspan fill="#3fb950" font-weight="bold">10</tspan>
    </text>
    <text x="20" y="70" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="13">
      Selected Items: <tspan fill="#3fb950">{Item 2, Item 4}</tspan>
    </text>
    <text x="20" y="90" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="13">
      Total Weight: <tspan fill="#3fb950">3 + 5 = 8</tspan> (≤ Capacity)
    </text>
  </g>
  
  <!-- Complexity Box -->
  <g transform="translate(460, 490)">
    <rect x="0" y="0" width="340" height="100" rx="8" fill="#0f3460" stroke="#58a6ff"/>
    <text x="170" y="25" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold">
      Complexity Analysis
    </text>
    <text x="20" y="50" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="13">
      Time: <tspan fill="#58a6ff" font-family="monospace">O(n × W)</tspan> — fill n×W table
    </text>
    <text x="20" y="70" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="13">
      Space: <tspan fill="#58a6ff" font-family="monospace">O(n × W)</tspan> — or O(W) optimised
    </text>
    <text x="20" y="90" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="12">
      (Pseudo-polynomial in W)
    </text>
  </g>
  
  <!-- Footer -->
  <text x="450" y="630" text-anchor="middle" fill="#484f58" font-family="Segoe UI, sans-serif" font-size="11">
    08UNIT — Recursion and Dynamic Programming | © 2026 Antonio Clim
  </text>
</svg>
