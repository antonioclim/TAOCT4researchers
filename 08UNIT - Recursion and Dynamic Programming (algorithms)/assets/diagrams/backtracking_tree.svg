<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <defs>
    <linearGradient id="bgGrad5" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="validNode" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3fb950"/>
      <stop offset="100%" style="stop-color:#238636"/>
    </linearGradient>
    <linearGradient id="prunedNode" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f85149"/>
      <stop offset="100%" style="stop-color:#b33a3a"/>
    </linearGradient>
    <linearGradient id="exploringNode" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#58a6ff"/>
      <stop offset="100%" style="stop-color:#1f6feb"/>
    </linearGradient>
    <linearGradient id="solutionNode" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffd700"/>
      <stop offset="100%" style="stop-color:#b8860b"/>
    </linearGradient>
    <filter id="shadowNode" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="1" dy="1" stdDeviation="2" flood-color="#000" flood-opacity="0.4"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="600" fill="url(#bgGrad5)"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="22" font-weight="bold">
    Backtracking: 4-Queens Search Tree
  </text>
  <text x="450" y="58" text-anchor="middle" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="13">
    Systematic exploration with constraint-based pruning
  </text>
  
  <!-- Tree structure -->
  <g transform="translate(0, 70)">
    <!-- Root node -->
    <circle cx="450" cy="30" r="18" fill="url(#exploringNode)" stroke="#58a6ff" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="450" y="35" text-anchor="middle" fill="#fff" font-family="monospace" font-size="11">[ ]</text>
    
    <!-- Level 1 edges -->
    <line x1="450" y1="48" x2="150" y2="100" stroke="#58a6ff" stroke-width="2"/>
    <line x1="450" y1="48" x2="350" y2="100" stroke="#58a6ff" stroke-width="2"/>
    <line x1="450" y1="48" x2="550" y2="100" stroke="#58a6ff" stroke-width="2"/>
    <line x1="450" y1="48" x2="750" y2="100" stroke="#58a6ff" stroke-width="2"/>
    
    <!-- Level 1 nodes (row 0: queen positions 0,1,2,3) -->
    <circle cx="150" cy="115" r="18" fill="url(#exploringNode)" stroke="#58a6ff" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="150" y="120" text-anchor="middle" fill="#fff" font-family="monospace" font-size="10">[0,_]</text>
    
    <circle cx="350" cy="115" r="18" fill="url(#exploringNode)" stroke="#58a6ff" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="350" y="120" text-anchor="middle" fill="#fff" font-family="monospace" font-size="10">[1,_]</text>
    
    <circle cx="550" cy="115" r="18" fill="url(#exploringNode)" stroke="#58a6ff" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="550" y="120" text-anchor="middle" fill="#fff" font-family="monospace" font-size="10">[2,_]</text>
    
    <circle cx="750" cy="115" r="18" fill="url(#exploringNode)" stroke="#58a6ff" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="750" y="120" text-anchor="middle" fill="#fff" font-family="monospace" font-size="10">[3,_]</text>
    
    <!-- Level 2 from [0,_] -->
    <line x1="150" y1="133" x2="80" y2="185" stroke="#f85149" stroke-width="1.5" stroke-dasharray="4,2"/>
    <line x1="150" y1="133" x2="120" y2="185" stroke="#58a6ff" stroke-width="2"/>
    <line x1="150" y1="133" x2="160" y2="185" stroke="#58a6ff" stroke-width="2"/>
    <line x1="150" y1="133" x2="200" y2="185" stroke="#58a6ff" stroke-width="2"/>
    
    <circle cx="80" cy="200" r="14" fill="url(#prunedNode)" stroke="#f85149" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="80" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">✗</text>
    <text x="80" y="225" text-anchor="middle" fill="#f85149" font-family="Segoe UI, sans-serif" font-size="8">col</text>
    
    <circle cx="120" cy="200" r="14" fill="url(#prunedNode)" stroke="#f85149" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="120" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">✗</text>
    <text x="120" y="225" text-anchor="middle" fill="#f85149" font-family="Segoe UI, sans-serif" font-size="8">diag</text>
    
    <circle cx="160" cy="200" r="14" fill="url(#validNode)" stroke="#3fb950" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="160" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">[0,2]</text>
    
    <circle cx="200" cy="200" r="14" fill="url(#validNode)" stroke="#3fb950" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="200" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">[0,3]</text>
    
    <!-- Level 2 from [1,_] -->
    <line x1="350" y1="133" x2="290" y2="185" stroke="#f85149" stroke-width="1.5" stroke-dasharray="4,2"/>
    <line x1="350" y1="133" x2="330" y2="185" stroke="#f85149" stroke-width="1.5" stroke-dasharray="4,2"/>
    <line x1="350" y1="133" x2="370" y2="185" stroke="#58a6ff" stroke-width="2"/>
    <line x1="350" y1="133" x2="410" y2="185" stroke="#f85149" stroke-width="1.5" stroke-dasharray="4,2"/>
    
    <circle cx="290" cy="200" r="14" fill="url(#prunedNode)" stroke="#f85149" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="290" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">✗</text>
    
    <circle cx="330" cy="200" r="14" fill="url(#prunedNode)" stroke="#f85149" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="330" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">✗</text>
    
    <circle cx="370" cy="200" r="14" fill="url(#validNode)" stroke="#3fb950" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="370" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">[1,3]</text>
    
    <circle cx="410" cy="200" r="14" fill="url(#prunedNode)" stroke="#f85149" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="410" y="205" text-anchor="middle" fill="#fff" font-family="monospace" font-size="8">✗</text>
    
    <!-- Level 3 from [1,3] - leads to solution -->
    <line x1="370" y1="214" x2="370" y2="260" stroke="#3fb950" stroke-width="2"/>
    
    <circle cx="370" cy="275" r="14" fill="url(#validNode)" stroke="#3fb950" stroke-width="2" filter="url(#shadowNode)"/>
    <text x="370" y="280" text-anchor="middle" fill="#fff" font-family="monospace" font-size="7">[1,3,0]</text>
    
    <line x1="370" y1="289" x2="370" y2="330" stroke="#ffd700" stroke-width="2"/>
    
    <circle cx="370" cy="345" r="16" fill="url(#solutionNode)" stroke="#ffd700" stroke-width="3" filter="url(#shadowNode)"/>
    <text x="370" y="350" text-anchor="middle" fill="#000" font-family="monospace" font-size="6" font-weight="bold">[1,3,0,2]</text>
    <text x="370" y="375" text-anchor="middle" fill="#ffd700" font-family="Segoe UI, sans-serif" font-size="10" font-weight="bold">✓ Solution!</text>
    
    <!-- Continuation markers -->
    <text x="550" y="145" text-anchor="middle" fill="#6e7681" font-family="Segoe UI, sans-serif" font-size="10">...</text>
    <text x="750" y="145" text-anchor="middle" fill="#6e7681" font-family="Segoe UI, sans-serif" font-size="10">...</text>
    <text x="160" y="245" text-anchor="middle" fill="#6e7681" font-family="Segoe UI, sans-serif" font-size="9">continues...</text>
    <text x="200" y="245" text-anchor="middle" fill="#6e7681" font-family="Segoe UI, sans-serif" font-size="9">continues...</text>
  </g>
  
  <!-- Legend -->
  <g transform="translate(650, 90)">
    <rect x="0" y="0" width="200" height="160" rx="8" fill="#0d1117" stroke="#30363d"/>
    <text x="100" y="22" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="12" font-weight="bold">
      Node States
    </text>
    
    <circle cx="25" cy="50" r="10" fill="url(#exploringNode)" stroke="#58a6ff" stroke-width="2"/>
    <text x="45" y="55" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="11">Exploring</text>
    
    <circle cx="25" cy="80" r="10" fill="url(#validNode)" stroke="#3fb950" stroke-width="2"/>
    <text x="45" y="85" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="11">Valid placement</text>
    
    <circle cx="25" cy="110" r="10" fill="url(#prunedNode)" stroke="#f85149" stroke-width="2"/>
    <text x="45" y="115" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="11">Pruned (conflict)</text>
    
    <circle cx="25" cy="140" r="10" fill="url(#solutionNode)" stroke="#ffd700" stroke-width="2"/>
    <text x="45" y="145" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="11">Complete solution</text>
  </g>
  
  <!-- Algorithm box -->
  <g transform="translate(650, 270)">
    <rect x="0" y="0" width="200" height="130" rx="8" fill="#0d1117" stroke="#30363d"/>
    <text x="100" y="20" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="11" font-weight="bold">
      Backtracking Steps
    </text>
    <g font-family="Segoe UI, sans-serif" font-size="10" fill="#e6e6e6">
      <text x="15" y="42">1. Place queen in row</text>
      <text x="15" y="58">2. Check constraints:</text>
      <text x="25" y="72" fill="#8b949e">• No same column</text>
      <text x="25" y="86" fill="#8b949e">• No same diagonal</text>
      <text x="15" y="102">3. If valid → recurse</text>
      <text x="15" y="118">4. If invalid → backtrack</text>
    </g>
  </g>
  
  <!-- Complexity note -->
  <g transform="translate(650, 420)">
    <rect x="0" y="0" width="200" height="80" rx="8" fill="#0d1117" stroke="#30363d"/>
    <text x="100" y="20" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="11" font-weight="bold">
      Pruning Impact
    </text>
    <text x="15" y="42" fill="#e6e6e6" font-family="Segoe UI, sans-serif" font-size="10">
      Without pruning: 4⁴ = 256 nodes
    </text>
    <text x="15" y="58" fill="#3fb950" font-family="Segoe UI, sans-serif" font-size="10">
      With pruning: ~17 nodes
    </text>
    <text x="15" y="74" fill="#8b949e" font-family="Segoe UI, sans-serif" font-size="10">
      93% reduction in search
    </text>
  </g>
  
  <!-- 4x4 board showing solution -->
  <g transform="translate(70, 360)">
    <rect x="0" y="0" width="160" height="160" fill="#0d1117" stroke="#30363d"/>
    <text x="80" y="-10" text-anchor="middle" fill="#58a6ff" font-family="Segoe UI, sans-serif" font-size="11" font-weight="bold">
      Solution: [1,3,0,2]
    </text>
    
    <!-- Grid -->
    <g stroke="#30363d" stroke-width="1">
      <line x1="40" y1="0" x2="40" y2="160"/>
      <line x1="80" y1="0" x2="80" y2="160"/>
      <line x1="120" y1="0" x2="120" y2="160"/>
      <line x1="0" y1="40" x2="160" y2="40"/>
      <line x1="0" y1="80" x2="160" y2="80"/>
      <line x1="0" y1="120" x2="160" y2="120"/>
    </g>
    
    <!-- Checkerboard pattern -->
    <g fill="#16213e" opacity="0.5">
      <rect x="0" y="0" width="40" height="40"/>
      <rect x="80" y="0" width="40" height="40"/>
      <rect x="40" y="40" width="40" height="40"/>
      <rect x="120" y="40" width="40" height="40"/>
      <rect x="0" y="80" width="40" height="40"/>
      <rect x="80" y="80" width="40" height="40"/>
      <rect x="40" y="120" width="40" height="40"/>
      <rect x="120" y="120" width="40" height="40"/>
    </g>
    
    <!-- Queens -->
    <text x="60" y="30" text-anchor="middle" fill="#ffd700" font-size="28">♛</text>
    <text x="140" y="70" text-anchor="middle" fill="#ffd700" font-size="28">♛</text>
    <text x="20" y="110" text-anchor="middle" fill="#ffd700" font-size="28">♛</text>
    <text x="100" y="150" text-anchor="middle" fill="#ffd700" font-size="28">♛</text>
    
    <!-- Row/col labels -->
    <g font-family="monospace" font-size="10" fill="#6e7681">
      <text x="20" y="175">0</text>
      <text x="60" y="175">1</text>
      <text x="100" y="175">2</text>
      <text x="140" y="175">3</text>
      <text x="-12" y="25">0</text>
      <text x="-12" y="65">1</text>
      <text x="-12" y="105">2</text>
      <text x="-12" y="145">3</text>
    </g>
  </g>
  
  <!-- Footer -->
  <text x="450" y="580" text-anchor="middle" fill="#484f58" font-family="Segoe UI, sans-serif" font-size="11">
    08UNIT — Recursion and Dynamic Programming | © 2026 Antonio Clim
  </text>
</svg>
