@startuml dp_table_construction
skinparam backgroundColor #1a1a2e
skinparam defaultFontColor white

title 0-1 Knapsack DP Table Construction

<style>
  .dp_cell {
    BackgroundColor #0f3460
    FontColor white
  }
  .base_cell {
    BackgroundColor #1a472a
    FontColor white
  }
  .current_cell {
    BackgroundColor #4a9eff
    FontColor white
  }
  .optimal_cell {
    BackgroundColor #f0883e
    FontColor white
  }
</style>

rectangle "Items: weights=[2,3,4,5], values=[3,4,5,6], capacity=8" as title

rectangle "DP Table: dp[i][w] = max value using items 0..i-1 with capacity w" as table {
  
  rectangle """
  |= w |= 0 |= 1 |= 2 |= 3 |= 4 |= 5 |= 6 |= 7 |= 8 |
  | i=0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
  | i=1 | 0 | 0 | 3 | 3 | 3 | 3 | 3 | 3 | 3 |
  | i=2 | 0 | 0 | 3 | 4 | 4 | 7 | 7 | 7 | 7 |
  | i=3 | 0 | 0 | 3 | 4 | 5 | 7 | 8 | 9 | 9 |
  | i=4 | 0 | 0 | 3 | 4 | 5 | 7 | 8 | 9 | **10** |
  """ as matrix

}

note bottom of table
  **State Transition:**
  dp[i][w] = max(
    dp[i-1][w],                    // exclude item i
    values[i-1] + dp[i-1][w-weights[i-1]]  // include item i
  )
  
  **Result:** Maximum value = 10
  **Selected items:** Item 2 (w=3, v=4) + Item 4 (w=5, v=6)
end note

@enduml
