<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <style>
      .title { font: bold 18px sans-serif; fill: #1a1a2e; }
      .subtitle { font: 14px sans-serif; fill: #666; }
      .label { font: 12px sans-serif; fill: #333; }
      .axis-label { font: bold 13px sans-serif; fill: #1a1a2e; }
      .step-label { font: bold 14px sans-serif; fill: #1a1a2e; }
      .type-a { fill: #e94560; }
      .type-b { fill: #0f3460; }
      .empty { fill: #f0f0f0; stroke: #ddd; }
      .grid-cell { stroke: #ccc; stroke-width: 0.5; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; }
      .metric-box { fill: white; stroke: #ccc; stroke-width: 1; }
      .highlight { stroke: #16c79a; stroke-width: 3; fill: none; }
      .annotation { font: 11px sans-serif; fill: #666; }
      .metric-value { font: bold 16px sans-serif; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="500" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" class="title">Emergence in Schelling Segregation Model</text>
  <text x="450" y="50" text-anchor="middle" class="subtitle">Individual preference threshold: 30% → Collective segregation: 85%+</text>
  
  <!-- Step 0: Initial random state -->
  <g transform="translate(50, 90)">
    <text x="70" y="-10" text-anchor="middle" class="step-label">Step 0</text>
    <text x="70" y="8" text-anchor="middle" class="annotation">(Random)</text>
    
    <!-- 10x10 grid - random mix -->
    <g transform="translate(0, 20)">
      <!-- Row 0 -->
      <rect x="0" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="0" width="14" height="14" class="empty grid-cell"/>
      <rect x="56" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="0" width="14" height="14" class="type-a grid-cell"/>
      <!-- Row 1 -->
      <rect x="0" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="14" width="14" height="14" class="empty grid-cell"/>
      <rect x="70" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="14" width="14" height="14" class="type-b grid-cell"/>
      <!-- Row 2 -->
      <rect x="0" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="28" width="14" height="14" class="empty grid-cell"/>
      <rect x="42" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="28" width="14" height="14" class="type-a grid-cell"/>
      <!-- Row 3 -->
      <rect x="0" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="42" width="14" height="14" class="empty grid-cell"/>
      <rect x="84" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="42" width="14" height="14" class="type-b grid-cell"/>
      <!-- Row 4 -->
      <rect x="0" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="56" width="14" height="14" class="empty grid-cell"/>
      <rect x="98" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="56" width="14" height="14" class="type-a grid-cell"/>
      <!-- Row 5-9 similar random pattern -->
      <rect x="0" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="70" width="14" height="14" class="empty grid-cell"/>
      <rect x="112" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="0" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="84" width="14" height="14" class="empty grid-cell"/>
      <rect x="70" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="0" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="98" width="14" height="14" class="empty grid-cell"/>
      <rect x="126" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="0" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="0" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="126" width="14" height="14" class="empty grid-cell"/>
      <rect x="42" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="126" width="14" height="14" class="type-b grid-cell"/>
    </g>
    
    <!-- Metrics -->
    <text x="70" y="175" text-anchor="middle" class="label">Segregation: <tspan class="metric-value" fill="#e94560">42%</tspan></text>
    <text x="70" y="192" text-anchor="middle" class="label">Happy: <tspan class="metric-value" fill="#16c79a">35%</tspan></text>
  </g>
  
  <!-- Arrow -->
  <path d="M 205 170 L 245 170" class="arrow" marker-end="url(#arrowhead)"/>
  
  <!-- Step 10: Intermediate state -->
  <g transform="translate(260, 90)">
    <text x="70" y="-10" text-anchor="middle" class="step-label">Step 10</text>
    <text x="70" y="8" text-anchor="middle" class="annotation">(Clustering)</text>
    
    <!-- 10x10 grid - partial segregation -->
    <g transform="translate(0, 20)">
      <!-- Pattern shows emerging clusters -->
      <rect x="0" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="0" width="14" height="14" class="empty grid-cell"/>
      <rect x="112" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="0" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="14" width="14" height="14" class="empty grid-cell"/>
      <rect x="42" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="14" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="28" width="14" height="14" class="empty grid-cell"/>
      <rect x="84" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="28" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="42" width="14" height="14" class="empty grid-cell"/>
      
      <rect x="0" y="56" width="14" height="14" class="empty grid-cell"/>
      <rect x="14" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="56" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="70" width="14" height="14" class="empty grid-cell"/>
      <rect x="126" y="70" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="84" width="14" height="14" class="empty grid-cell"/>
      <rect x="70" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="84" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="98" width="14" height="14" class="empty grid-cell"/>
      
      <rect x="0" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="112" width="14" height="14" class="empty grid-cell"/>
      <rect x="42" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="84" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="112" width="14" height="14" class="type-a grid-cell"/>
      
      <rect x="0" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="14" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="28" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="42" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="56" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="70" y="126" width="14" height="14" class="empty grid-cell"/>
      <rect x="84" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="98" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="112" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="126" y="126" width="14" height="14" class="type-a grid-cell"/>
    </g>
    
    <!-- Metrics -->
    <text x="70" y="175" text-anchor="middle" class="label">Segregation: <tspan class="metric-value" fill="#e94560">68%</tspan></text>
    <text x="70" y="192" text-anchor="middle" class="label">Happy: <tspan class="metric-value" fill="#16c79a">72%</tspan></text>
  </g>
  
  <!-- Arrow -->
  <path d="M 415 170 L 455 170" class="arrow" marker-end="url(#arrowhead)"/>
  
  <!-- Step 50: Final equilibrium -->
  <g transform="translate(470, 90)">
    <text x="70" y="-10" text-anchor="middle" class="step-label">Step 50</text>
    <text x="70" y="8" text-anchor="middle" class="annotation">(Equilibrium)</text>
    
    <!-- 10x10 grid - highly segregated -->
    <g transform="translate(0, 20)">
      <!-- Left side: mostly type A -->
      <rect x="0" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="0" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="0" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="0" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="14" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="14" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="14" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="28" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="28" width="14" height="14" class="empty grid-cell"/>
      <rect x="70" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="28" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="28" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="42" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="42" width="14" height="14" class="empty grid-cell"/>
      <rect x="84" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="42" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="42" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="56" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="56" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="56" width="14" height="14" class="empty grid-cell"/>
      
      <rect x="0" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="70" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="70" width="14" height="14" class="empty grid-cell"/>
      <rect x="70" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="70" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="70" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="84" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="84" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="84" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="98" width="14" height="14" class="empty grid-cell"/>
      <rect x="56" y="98" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="98" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="98" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="112" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="112" width="14" height="14" class="empty grid-cell"/>
      <rect x="84" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="112" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="112" width="14" height="14" class="type-b grid-cell"/>
      
      <rect x="0" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="14" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="28" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="42" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="56" y="126" width="14" height="14" class="type-a grid-cell"/>
      <rect x="70" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="84" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="98" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="112" y="126" width="14" height="14" class="type-b grid-cell"/>
      <rect x="126" y="126" width="14" height="14" class="type-b grid-cell"/>
    </g>
    
    <!-- Metrics -->
    <text x="70" y="175" text-anchor="middle" class="label">Segregation: <tspan class="metric-value" fill="#e94560">87%</tspan></text>
    <text x="70" y="192" text-anchor="middle" class="label">Happy: <tspan class="metric-value" fill="#16c79a">98%</tspan></text>
  </g>
  
  <!-- Legend and explanation -->
  <g transform="translate(660, 100)">
    <rect x="0" y="0" width="200" height="120" rx="5" fill="white" stroke="#ccc"/>
    <text x="100" y="25" text-anchor="middle" class="axis-label">Legend</text>
    
    <rect x="20" y="40" width="20" height="20" class="type-a"/>
    <text x="50" y="55" class="label">Type A agents</text>
    
    <rect x="20" y="70" width="20" height="20" class="type-b"/>
    <text x="50" y="85" class="label">Type B agents</text>
    
    <rect x="20" y="100" width="20" height="20" class="empty" style="stroke:#999"/>
    <text x="50" y="115" class="label">Empty cells</text>
  </g>
  
  <!-- Key insight box -->
  <g transform="translate(50, 340)">
    <rect x="0" y="0" width="800" height="140" rx="8" fill="#f8f9fa" stroke="#dee2e6"/>
    
    <text x="400" y="30" text-anchor="middle" class="title" style="font-size: 16px;">The Emergence Paradox</text>
    
    <text x="30" y="60" class="label" style="font-size: 13px;">
      <tspan x="30" dy="0">• Individual rule: "Move if &lt;30% of neighbours are like me" (mild preference)</tspan>
      <tspan x="30" dy="22">• Collective outcome: 85-90% segregation (strong pattern)</tspan>
      <tspan x="30" dy="22">• This demonstrates emergence: complex global behaviour from simple local rules</tspan>
      <tspan x="30" dy="22">• No agent "wants" segregation — it emerges from individual satisfaction-seeking</tspan>
    </text>
  </g>
</svg>
