<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <title>Dijkstra's Algorithm Step-by-Step</title>
  <desc>Visual representation of Dijkstra's algorithm execution showing priority queue evolution and path discovery</desc>
  
  <defs>
    <style>
      .title { font: bold 20px 'Segoe UI', sans-serif; fill: #58a6ff; }
      .subtitle { font: 14px 'Segoe UI', sans-serif; fill: #8b949e; }
      .label { font: 12px 'Segoe UI', sans-serif; fill: #c9d1d9; }
      .code { font: 11px 'JetBrains Mono', monospace; fill: #c9d1d9; }
      .node-active { fill: #238636; stroke: #3fb950; stroke-width: 2; }
      .node-visited { fill: #1f6feb; stroke: #58a6ff; stroke-width: 2; }
      .node-pending { fill: #21262d; stroke: #30363d; stroke-width: 2; }
      .node-current { fill: #9e6a03; stroke: #d29922; stroke-width: 3; }
      .edge-active { stroke: #3fb950; stroke-width: 3; }
      .edge-relaxed { stroke: #58a6ff; stroke-width: 2; }
      .edge-default { stroke: #484f58; stroke-width: 1.5; }
      .dist-label { font: bold 10px 'JetBrains Mono', monospace; fill: #ffffff; }
      .step-box { fill: #161b22; stroke: #30363d; rx: 5; }
      .step-highlight { fill: #1f6feb; }
    </style>
    
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#484f58"/>
    </marker>
    <marker id="arrow-active" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#3fb950"/>
    </marker>
  </defs>
  
  <rect width="100%" height="100%" fill="#0d1117"/>
  
  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" class="title">Dijkstra's Algorithm: Step-by-Step Execution</text>
  <text x="450" y="50" text-anchor="middle" class="subtitle">Finding shortest paths from vertex A</text>
  
  <!-- Graph Section -->
  <g transform="translate(50, 80)">
    <text x="150" y="0" text-anchor="middle" class="label" style="font-weight: bold;">Graph with Edge Weights</text>
    
    <!-- Edges -->
    <line x1="60" y1="60" x2="140" y2="120" class="edge-active"/>
    <line x1="60" y1="60" x2="60" y2="140" class="edge-relaxed"/>
    <line x1="140" y1="120" x2="240" y2="120" class="edge-default"/>
    <line x1="60" y1="140" x2="140" y2="120" class="edge-default"/>
    <line x1="60" y1="140" x2="140" y2="200" class="edge-default"/>
    <line x1="140" y1="200" x2="240" y2="200" class="edge-default"/>
    <line x1="240" y1="120" x2="240" y2="200" class="edge-default"/>
    
    <!-- Edge weights -->
    <text x="95" y="85" class="code" fill="#8b949e">4</text>
    <text x="45" y="100" class="code" fill="#8b949e">2</text>
    <text x="185" y="110" class="code" fill="#8b949e">3</text>
    <text x="95" y="140" class="code" fill="#8b949e">1</text>
    <text x="95" y="180" class="code" fill="#8b949e">5</text>
    <text x="185" y="210" class="code" fill="#8b949e">1</text>
    <text x="250" y="160" class="code" fill="#8b949e">2</text>
    
    <!-- Nodes -->
    <circle cx="60" cy="60" r="20" class="node-visited"/>
    <text x="60" y="65" text-anchor="middle" class="dist-label">A</text>
    <text x="60" y="35" text-anchor="middle" class="code" fill="#3fb950">d=0</text>
    
    <circle cx="140" cy="120" r="20" class="node-current"/>
    <text x="140" y="125" text-anchor="middle" class="dist-label">B</text>
    <text x="140" y="95" text-anchor="middle" class="code" fill="#d29922">d=4</text>
    
    <circle cx="60" cy="140" r="20" class="node-visited"/>
    <text x="60" y="145" text-anchor="middle" class="dist-label">C</text>
    <text x="35" y="145" text-anchor="middle" class="code" fill="#3fb950">d=2</text>
    
    <circle cx="140" cy="200" r="20" class="node-pending"/>
    <text x="140" y="205" text-anchor="middle" class="dist-label">D</text>
    <text x="140" y="225" text-anchor="middle" class="code" fill="#8b949e">d=7</text>
    
    <circle cx="240" cy="120" r="20" class="node-pending"/>
    <text x="240" y="125" text-anchor="middle" class="dist-label">E</text>
    <text x="265" y="125" text-anchor="middle" class="code" fill="#8b949e">d=7</text>
    
    <circle cx="240" cy="200" r="20" class="node-pending"/>
    <text x="240" y="205" text-anchor="middle" class="dist-label">F</text>
    <text x="265" y="205" text-anchor="middle" class="code" fill="#8b949e">d=∞</text>
  </g>
  
  <!-- Legend -->
  <g transform="translate(350, 80)">
    <text x="0" y="0" class="label" style="font-weight: bold;">Legend</text>
    
    <circle cx="15" cy="25" r="10" class="node-visited"/>
    <text x="35" y="30" class="code">Visited (final distance)</text>
    
    <circle cx="15" cy="50" r="10" class="node-current"/>
    <text x="35" y="55" class="code">Current (being processed)</text>
    
    <circle cx="15" cy="75" r="10" class="node-pending"/>
    <text x="35" y="80" class="code">Pending (in queue)</text>
    
    <line x1="5" y1="100" x2="25" y2="100" class="edge-active" stroke-width="3"/>
    <text x="35" y="105" class="code">Active path</text>
    
    <line x1="5" y1="125" x2="25" y2="125" class="edge-relaxed" stroke-width="2"/>
    <text x="35" y="130" class="code">Relaxed edge</text>
  </g>
  
  <!-- Priority Queue State -->
  <g transform="translate(50, 340)">
    <text x="0" y="0" class="label" style="font-weight: bold;">Priority Queue (Min-Heap)</text>
    
    <rect x="0" y="15" width="250" height="80" class="step-box"/>
    
    <text x="10" y="40" class="code">Step 3: Extract B (d=4)</text>
    <text x="10" y="60" class="code">Queue: [(4,B), (7,D), (7,E)]</text>
    <text x="10" y="80" class="code">Relaxing: B→E (4+3=7 ≥ 7, skip)</text>
  </g>
  
  <!-- Execution Steps -->
  <g transform="translate(350, 340)">
    <text x="0" y="0" class="label" style="font-weight: bold;">Execution Trace</text>
    
    <rect x="0" y="15" width="500" height="180" class="step-box"/>
    
    <text x="10" y="40" class="code" fill="#3fb950">Step 1: Initialise dist[A]=0, others=∞</text>
    <text x="10" y="60" class="code" fill="#3fb950">Step 2: Extract A(0), relax A→B(4), A→C(2)</text>
    <text x="10" y="80" class="code" fill="#d29922">Step 3: Extract C(2), relax C→B(3), C→D(7)</text>
    <text x="10" y="100" class="code">Step 4: Extract B(3), relax B→E(6)</text>
    <text x="10" y="120" class="code">Step 5: Extract E(6), relax E→F(8)</text>
    <text x="10" y="140" class="code">Step 6: Extract D(7), relax D→F(8=8, skip)</text>
    <text x="10" y="160" class="code">Step 7: Extract F(8), done</text>
    
    <text x="10" y="185" class="code" fill="#58a6ff">Final: A=0, B=3, C=2, D=7, E=6, F=8</text>
  </g>
  
  <!-- Distance Table Evolution -->
  <g transform="translate(50, 450)">
    <text x="0" y="0" class="label" style="font-weight: bold;">Distance Table Evolution</text>
    
    <rect x="0" y="15" width="250" height="120" class="step-box"/>
    
    <!-- Table header -->
    <text x="10" y="40" class="code" fill="#58a6ff">Node  Init  S1    S2    S3    Final</text>
    <line x1="10" y1="45" x2="240" y2="45" stroke="#30363d"/>
    
    <text x="10" y="60" class="code">A     0     0     0     0     0</text>
    <text x="10" y="75" class="code">B     ∞     4     3     3     3</text>
    <text x="10" y="90" class="code">C     ∞     2     2     2     2</text>
    <text x="10" y="105" class="code">D     ∞     ∞     7     7     7</text>
    <text x="10" y="120" class="code">E     ∞     ∞     ∞     6     6</text>
    <text x="10" y="135" class="code">F     ∞     ∞     ∞     ∞     8</text>
  </g>
  
  <!-- Complexity Note -->
  <g transform="translate(600, 80)">
    <rect x="0" y="0" width="250" height="100" class="step-box"/>
    <text x="125" y="20" text-anchor="middle" class="label" style="font-weight: bold;">Complexity Analysis</text>
    <text x="10" y="45" class="code">Time: O((V+E) log V)</text>
    <text x="10" y="65" class="code">Space: O(V)</text>
    <text x="10" y="85" class="code" fill="#8b949e">Binary heap implementation</text>
  </g>
  
  <!-- Copyright -->
  <text x="450" y="590" text-anchor="middle" class="code" fill="#484f58">© 2025 Antonio Clim. All rights reserved.</text>
</svg>
