@startuml serialisation_decision
!theme plain
skinparam backgroundColor #FFFFFF
skinparam shadowing false

title Serialisation Format Selection Guide

start

:Data to serialise;

if (Human readability\nrequired?) then (yes)
    if (Tabular structure?) then (yes)
        :CSV;
        note right: Simple, universal\nNo type info
    else (no)
        if (Configuration or\nmetadata?) then (yes)
            :JSON / YAML;
            note right: Hierarchical\nHuman editable
        else (no)
            :JSON;
        endif
    endif
else (no)
    if (Python objects\nwith classes?) then (yes)
        if (Trusted source?) then (yes)
            :Pickle;
            note right: Fast, preserves types\nSecurity risk!
        else (no)
            :JSON with\ncustom encoder;
            note right: Safer alternative
        endif
    else (no)
        if (Large numerical\narrays?) then (yes)
            if (Need columnar\naccess?) then (yes)
                :Parquet;
                note right: Columnar, compressed\nAnalytical queries
            else (no)
                :HDF5 / NetCDF;
                note right: Multi-dimensional\nScientific data
            endif
        else (no)
            :Compressed JSON;
            note right: Space efficient\nStill portable
        endif
    endif
endif

stop

@enduml
