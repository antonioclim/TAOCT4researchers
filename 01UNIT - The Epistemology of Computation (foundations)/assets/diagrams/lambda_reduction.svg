<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="box-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0f3460"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3fb950"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="600" fill="url(#bg-gradient)"/>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="22" font-weight="bold">
    Beta Reduction in Lambda Calculus
  </text>
  <text x="450" y="55" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="13">
    (λx.M) N →β M[x := N]
  </text>
  
  <!-- Step 1: Original Expression -->
  <rect x="30" y="90" width="250" height="100" rx="8" fill="url(#box-gradient)" stroke="#58a6ff" stroke-width="2"/>
  <text x="155" y="115" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Step 1: Original</text>
  <text x="155" y="145" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="16">(λx. x + 1) 5</text>
  <text x="155" y="175" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">Application of abstraction to argument</text>
  
  <!-- Arrow 1 -->
  <line x1="280" y1="140" x2="320" y2="140" stroke="#3fb950" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="300" y="130" text-anchor="middle" fill="#3fb950" font-family="Arial, sans-serif" font-size="10">→β</text>
  
  <!-- Step 2: Identify Components -->
  <rect x="325" y="90" width="250" height="100" rx="8" fill="url(#box-gradient)" stroke="#f0883e" stroke-width="2"/>
  <text x="450" y="115" text-anchor="middle" fill="#f0883e" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Step 2: Identify</text>
  <text x="450" y="145" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="16">
    <tspan fill="#58a6ff">(λx.</tspan><tspan fill="#3fb950"> x + 1</tspan><tspan fill="#58a6ff">)</tspan> <tspan fill="#f0883e">5</tspan>
  </text>
  <text x="450" y="175" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">x = parameter, x+1 = body, 5 = argument</text>
  
  <!-- Arrow 2 -->
  <line x1="575" y1="140" x2="615" y2="140" stroke="#3fb950" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="595" y="130" text-anchor="middle" fill="#3fb950" font-family="Arial, sans-serif" font-size="10">→β</text>
  
  <!-- Step 3: Substitute -->
  <rect x="620" y="90" width="250" height="100" rx="8" fill="url(#box-gradient)" stroke="#3fb950" stroke-width="2"/>
  <text x="745" y="115" text-anchor="middle" fill="#3fb950" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Step 3: Substitute</text>
  <text x="745" y="145" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="16">
    <tspan fill="#f0883e">5</tspan> + 1
  </text>
  <text x="745" y="175" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="11">Replace x with 5 in body</text>
  
  <!-- Complex Example: Church Numeral -->
  <text x="450" y="230" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="16" font-weight="bold">
    Example: Church Numeral Successor
  </text>
  
  <!-- Step A -->
  <rect x="30" y="260" width="400" height="90" rx="8" fill="url(#box-gradient)" stroke="#58a6ff" stroke-width="2"/>
  <text x="230" y="285" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">A. Successor applied to 2</text>
  <text x="230" y="315" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="14">SUCC 2 = (λn.λf.λx. f (n f x)) (λf.λx. f (f x))</text>
  <text x="230" y="340" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="10">SUCC = λn.λf.λx. f (n f x), 2 = λf.λx. f (f x)</text>
  
  <!-- Arrow A -->
  <line x1="430" y1="305" x2="465" y2="305" stroke="#3fb950" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Step B -->
  <rect x="470" y="260" width="400" height="90" rx="8" fill="url(#box-gradient)" stroke="#f0883e" stroke-width="2"/>
  <text x="670" y="285" text-anchor="middle" fill="#f0883e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">B. After first β-reduction</text>
  <text x="670" y="315" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="14">λf.λx. f ((λf.λx. f (f x)) f x)</text>
  <text x="670" y="340" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="10">Substituted n with Church numeral 2</text>
  
  <!-- Arrow B to C -->
  <line x1="670" y1="350" x2="670" y2="380" stroke="#3fb950" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Step C -->
  <rect x="250" y="390" width="400" height="90" rx="8" fill="url(#box-gradient)" stroke="#3fb950" stroke-width="2"/>
  <text x="450" y="415" text-anchor="middle" fill="#3fb950" font-family="Arial, sans-serif" font-size="13" font-weight="bold">C. After complete reduction</text>
  <text x="450" y="445" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="14">λf.λx. f (f (f x))</text>
  <text x="450" y="470" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="10">= Church numeral 3 (applies f three times)</text>
  
  <!-- Rule Box -->
  <rect x="30" y="500" width="350" height="80" rx="8" fill="#0f3460" stroke="#30363d" stroke-width="1"/>
  <text x="205" y="525" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">β-Reduction Rule</text>
  <text x="205" y="550" text-anchor="middle" fill="white" font-family="Courier New, monospace" font-size="12">(λx.M) N →β M[x := N]</text>
  <text x="205" y="570" text-anchor="middle" fill="#8b949e" font-family="Arial, sans-serif" font-size="10">Replace all free occurrences of x in M with N</text>
  
  <!-- Terminology Box -->
  <rect x="400" y="500" width="470" height="80" rx="8" fill="#0f3460" stroke="#30363d" stroke-width="1"/>
  <text x="635" y="520" text-anchor="middle" fill="#58a6ff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Key Terminology</text>
  <text x="440" y="545" fill="#f0883e" font-family="Arial, sans-serif" font-size="11">• Redex:</text>
  <text x="495" y="545" fill="white" font-family="Arial, sans-serif" font-size="11">reducible expression (λx.M) N</text>
  <text x="440" y="565" fill="#f0883e" font-family="Arial, sans-serif" font-size="11">• Normal form:</text>
  <text x="530" y="565" fill="white" font-family="Arial, sans-serif" font-size="11">no redexes remain</text>
  <text x="680" y="545" fill="#f0883e" font-family="Arial, sans-serif" font-size="11">• α-conversion:</text>
  <text x="775" y="545" fill="white" font-family="Arial, sans-serif" font-size="11">rename bound vars</text>
  <text x="680" y="565" fill="#f0883e" font-family="Arial, sans-serif" font-size="11">• η-reduction:</text>
  <text x="770" y="565" fill="white" font-family="Arial, sans-serif" font-size="11">λx.(f x) →η f</text>
</svg>
